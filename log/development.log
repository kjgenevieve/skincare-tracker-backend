Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:17:41 -0800
  [1m[35m (7.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.05ms)
Completed 200 OK in 64ms (Views: 5.0ms | ActiveRecord: 17.4ms | Allocations: 29314)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:17:59 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.65ms)
Completed 200 OK in 16ms (Views: 4.0ms | ActiveRecord: 2.1ms | Allocations: 9081)


Started GET "/productsearch?search=a" for ::1 at 2019-12-04 12:27:00 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"a"}
  [1m[36mProduct Load (225.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'a' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'a' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('a') || ' '''))) OR (similarity('a', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (15.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 19]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 47]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 48]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 59]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 69]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 70]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 92]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 93]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 94]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 100]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 176]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 185]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 186]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 202]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 204]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 221]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 227]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 271]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 272]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 278]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 295]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 296]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 298]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 299]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 301]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 311]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 316]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 338]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 354]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 429]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 504]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 542]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 543]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 635]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 644]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 667]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 678]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 704]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 765]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 766]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 808]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 817]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 821]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 856]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 860]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 861]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 865]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 898]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 905]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 914]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 923]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 941]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 946]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 966]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1008]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1062]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1074]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1075]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1084]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1093]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1095]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1099]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1100]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1440.66ms)
Completed 200 OK in 1698ms (Views: 569.0ms | ActiveRecord: 1115.2ms | Allocations: 398167)


Started GET "/productsearch?search=a" for ::1 at 2019-12-04 12:27:02 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"a"}
  [1m[36mProduct Load (261.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'a' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'a' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('a') || ' '''))) OR (similarity('a', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 19]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 47]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 48]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 59]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 69]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 70]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 92]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 93]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 94]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 100]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 176]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 185]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 186]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 202]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 204]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 221]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 227]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 271]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 272]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 278]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 295]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 296]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 298]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 299]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 301]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 311]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 316]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 338]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 354]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 429]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 504]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 542]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 543]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 635]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 644]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 667]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 678]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 704]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 765]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 766]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 808]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 817]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 821]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 856]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 860]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 861]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 865]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 898]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 905]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 914]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 923]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 941]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 946]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 966]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1008]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1062]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1074]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1075]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1084]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1093]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1095]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1099]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1100]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1351.28ms)
Completed 200 OK in 1622ms (Views: 447.6ms | ActiveRecord: 1167.1ms | Allocations: 389194)


Started GET "/productsearch?search=!@" for ::1 at 2019-12-04 12:27:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"!@"}
  [1m[36mProduct Load (182.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || '!@' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || '!@' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('!@') || ' '''))) OR (similarity('!@', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 185ms (Views: 0.5ms | ActiveRecord: 182.3ms | Allocations: 1416)


Started GET "/productsearch?search=**" for ::1 at 2019-12-04 12:27:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"**"}
  [1m[36mProduct Load (181.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || '**' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || '**' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('**') || ' '''))) OR (similarity('**', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 186ms (Views: 0.4ms | ActiveRecord: 181.4ms | Allocations: 1416)


Started GET "/productsearch?search=**" for ::1 at 2019-12-04 12:27:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"**"}
  [1m[36mProduct Load (193.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || '**' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || '**' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('**') || ' '''))) OR (similarity('**', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 199ms (Views: 0.4ms | ActiveRecord: 193.8ms | Allocations: 1435)


Started GET "/productsearch?search=apple" for ::1 at 2019-12-04 12:27:26 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"apple"}
  [1m[36mProduct Load (186.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'apple' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'apple' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('apple') || ' '''))) OR (similarity('apple', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 481]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1653]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1862]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (112.08ms)
Completed 200 OK in 305ms (Views: 55.0ms | ActiveRecord: 244.2ms | Allocations: 22845)


Started GET "/productsearch?search=**" for ::1 at 2019-12-04 12:27:28 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"**"}
  [1m[36mProduct Load (182.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || '**' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || '**' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('**') || ' '''))) OR (similarity('**', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 187ms (Views: 0.8ms | ActiveRecord: 182.9ms | Allocations: 1416)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:27:42 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.96ms)
Completed 200 OK in 29ms (Views: 3.4ms | ActiveRecord: 3.7ms | Allocations: 9100)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:30:59 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (51.07ms)
Completed 200 OK in 64ms (Views: 51.5ms | ActiveRecord: 2.4ms | Allocations: 9065)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:32:43 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.68ms)
Completed 200 OK in 14ms (Views: 3.0ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:32:49 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.96ms)
Completed 200 OK in 18ms (Views: 3.8ms | ActiveRecord: 2.6ms | Allocations: 9062)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 12:33:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
  [1m[36mProduct Load (196.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'undefined' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'undefined' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('undefined') || ' '''))) OR (similarity('undefined', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
Completed 200 OK in 202ms (Views: 0.9ms | ActiveRecord: 196.7ms | Allocations: 1413)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:33:53 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.6ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.88ms)
Completed 200 OK in 24ms (Views: 5.4ms | ActiveRecord: 3.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:36:06 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.6ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.05ms)
Completed 200 OK in 23ms (Views: 4.6ms | ActiveRecord: 2.5ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:36:34 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.7ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (2.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (14.0ms)
Completed 200 OK in 47ms (Views: 15.0ms | ActiveRecord: 7.7ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:40:48 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.6ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (10.04ms)
Completed 200 OK in 37ms (Views: 11.2ms | ActiveRecord: 2.9ms | Allocations: 9062)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 12:41:08 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
  [1m[36mProduct Load (198.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'undefined' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'undefined' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('undefined') || ' '''))) OR (similarity('undefined', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 200 OK in 206ms (Views: 1.1ms | ActiveRecord: 198.8ms | Allocations: 1413)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:41:53 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.47ms)
Completed 200 OK in 25ms (Views: 4.2ms | ActiveRecord: 3.1ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:41:57 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.33ms)
Completed 200 OK in 39ms (Views: 8.1ms | ActiveRecord: 4.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:44:07 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.76ms)
Completed 200 OK in 21ms (Views: 5.3ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:44:36 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.68ms)
Completed 200 OK in 19ms (Views: 4.2ms | ActiveRecord: 2.7ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:45:18 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.6ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.61ms)
Completed 200 OK in 24ms (Views: 6.3ms | ActiveRecord: 2.5ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:45:30 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.86ms)
Completed 200 OK in 25ms (Views: 5.5ms | ActiveRecord: 2.7ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:46:02 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.18ms)
Completed 200 OK in 21ms (Views: 4.7ms | ActiveRecord: 2.6ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:46:34 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.75ms)
Completed 200 OK in 18ms (Views: 5.2ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:46:59 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.54ms)
Completed 200 OK in 19ms (Views: 5.0ms | ActiveRecord: 2.6ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:47:06 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.36ms)
Completed 200 OK in 17ms (Views: 3.7ms | ActiveRecord: 1.9ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:47:11 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.91ms)
Completed 200 OK in 18ms (Views: 3.3ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:47:16 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.51ms)
Completed 200 OK in 16ms (Views: 4.0ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:47:20 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.59ms)
Completed 200 OK in 16ms (Views: 4.0ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:48:00 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.64ms)
Completed 200 OK in 16ms (Views: 4.1ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:48:11 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.79ms)
Completed 200 OK in 17ms (Views: 4.4ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:48:54 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.09ms)
Completed 200 OK in 15ms (Views: 3.5ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:49:09 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.09ms)
Completed 200 OK in 18ms (Views: 5.6ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 12:49:19 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
  [1m[36mProduct Load (189.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'undefined' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'undefined' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('undefined') || ' '''))) OR (similarity('undefined', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 200 OK in 195ms (Views: 1.1ms | ActiveRecord: 189.1ms | Allocations: 1414)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:49:35 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.06ms)
Completed 200 OK in 17ms (Views: 3.5ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:53:38 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.05ms)
Completed 200 OK in 16ms (Views: 3.5ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:53:57 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (9.2ms)
Completed 200 OK in 208ms (Views: 10.5ms | ActiveRecord: 3.7ms | Allocations: 9065)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:54:42 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.24ms)
Completed 200 OK in 19ms (Views: 4.8ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:54:51 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.0ms)
Completed 200 OK in 16ms (Views: 4.4ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 12:55:30 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.42ms)
Completed 200 OK in 16ms (Views: 3.8ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:12:25 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (216.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (15.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (16.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (567.58ms)
Completed 200 OK in 802ms (Views: 177.8ms | ActiveRecord: 610.1ms | Allocations: 142003)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:12:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (193.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (598.92ms)
Completed 200 OK in 798ms (Views: 215.1ms | ActiveRecord: 578.6ms | Allocations: 141899)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:12:31 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.87ms)
Completed 200 OK in 19ms (Views: 4.3ms | ActiveRecord: 3.3ms | Allocations: 9103)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:12:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (190.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (528.95ms)
Completed 200 OK in 724ms (Views: 135.3ms | ActiveRecord: 585.2ms | Allocations: 141899)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:12:58 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.51ms)
Completed 200 OK in 16ms (Views: 3.9ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:13:03 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (204.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (535.15ms)
Completed 200 OK in 744ms (Views: 149.0ms | ActiveRecord: 591.6ms | Allocations: 141902)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:13:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (198.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (537.5ms)
Completed 200 OK in 741ms (Views: 158.2ms | ActiveRecord: 579.1ms | Allocations: 141899)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:13:18 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 13ms (Views: 2.7ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:13:51 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.31ms)
Completed 200 OK in 16ms (Views: 3.8ms | ActiveRecord: 2.5ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:13:53 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (194.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (607.37ms)
Completed 200 OK in 806ms (Views: 214.2ms | ActiveRecord: 588.3ms | Allocations: 141899)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:14:04 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (199.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (588.27ms)
Completed 200 OK in 796ms (Views: 189.8ms | ActiveRecord: 600.1ms | Allocations: 141906)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:20:18 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.6ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.12ms)
Completed 200 OK in 50ms (Views: 11.2ms | ActiveRecord: 5.7ms | Allocations: 9201)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:20:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (229.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (15.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (624.77ms)
Completed 200 OK in 862ms (Views: 238.7ms | ActiveRecord: 617.1ms | Allocations: 141905)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:20:29 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (200.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (525.13ms)
Completed 200 OK in 731ms (Views: 142.0ms | ActiveRecord: 584.8ms | Allocations: 141899)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:20:43 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (187.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (556.29ms)
Completed 200 OK in 748ms (Views: 161.0ms | ActiveRecord: 583.8ms | Allocations: 141902)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:34:05 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.8ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.17ms)
Completed 200 OK in 19ms (Views: 3.7ms | ActiveRecord: 4.0ms | Allocations: 9200)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:34:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (234.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (559.52ms)
Completed 200 OK in 799ms (Views: 164.4ms | ActiveRecord: 631.0ms | Allocations: 141903)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:34:56 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.16ms)
Completed 200 OK in 17ms (Views: 3.6ms | ActiveRecord: 4.1ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:34:58 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (203.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (35.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (712.02ms)
Completed 200 OK in 920ms (Views: 299.2ms | ActiveRecord: 617.5ms | Allocations: 141899)


Started GET "/productsearch?search=honey&category=eye" for ::1 at 2019-12-04 13:35:07 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"eye"}
  [1m[36mProduct Load (203.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (537.69ms)
Completed 200 OK in 745ms (Views: 140.0ms | ActiveRecord: 601.9ms | Allocations: 141901)


Started GET "/productsearch?search=honey&category=eye+lip" for ::1 at 2019-12-04 13:35:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"eye lip"}
  [1m[36mProduct Load (200.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (542.07ms)
Completed 200 OK in 747ms (Views: 156.8ms | ActiveRecord: 586.4ms | Allocations: 141902)


Started GET "/productsearch?search=honey&category=eye+lip+cleanser" for ::1 at 2019-12-04 13:35:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"eye lip cleanser"}
  [1m[36mProduct Load (205.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:47:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:52:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (525.06ms)
Completed 200 OK in 735ms (Views: 135.2ms | ActiveRecord: 596.5ms | Allocations: 141899)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:35:54 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.81ms)
Completed 200 OK in 15ms (Views: 3.3ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:40:39 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.12ms)
Completed 200 OK in 83ms (Views: 6.8ms | ActiveRecord: 27.8ms | Allocations: 26233)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 13:40:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 226)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:40:54 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 211)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:40:56 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 211)


Started GET "/productsearch?search=honey&category=cleanser" for ::1 at 2019-12-04 13:41:06 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"cleanser"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 211)


Started GET "/productsearch?search=&category=cleanser" for ::1 at 2019-12-04 13:41:11 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"cleanser"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 211)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:41:44 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.06ms)
Completed 200 OK in 68ms (Views: 3.6ms | ActiveRecord: 22.8ms | Allocations: 26077)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 13:41:46 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 226)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:42:25 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.6ms)
Completed 200 OK in 130ms (Views: 9.2ms | ActiveRecord: 57.8ms | Allocations: 26076)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 13:42:29 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 228)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:42:38 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 213)


Started GET "/productsearch?search=honey&category=cleanser+mask" for ::1 at 2019-12-04 13:42:51 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"cleanser mask"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/productsearch?search=&category=cleanser+mask" for ::1 at 2019-12-04 13:42:56 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"cleanser mask"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:43:03 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.48ms)
Completed 200 OK in 14ms (Views: 2.9ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/productsearch?search=undefined&category=eye+moisturizer" for ::1 at 2019-12-04 13:43:08 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"eye moisturizer"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 214)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:43:38 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.41ms)
Completed 200 OK in 71ms (Views: 3.1ms | ActiveRecord: 18.8ms | Allocations: 26125)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 13:43:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (190.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:59:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:72:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (543.92ms)
Completed 200 OK in 741ms (Views: 148.3ms | ActiveRecord: 589.2ms | Allocations: 147812)


Started GET "/productsearch?search=honey&category=eye" for ::1 at 2019-12-04 13:43:50 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"eye"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.11ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 13:43:59 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/productsearch?search=&category=lip" for ::1 at 2019-12-04 13:44:05 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"lip"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/productsearch?search=&category=lip" for ::1 at 2019-12-04 13:44:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"lip"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/productsearch?search=&category=lip" for ::1 at 2019-12-04 13:44:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"lip"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:45:16 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.94ms)
Completed 200 OK in 77ms (Views: 4.8ms | ActiveRecord: 23.7ms | Allocations: 26128)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 13:45:19 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (196.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'undefined' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'undefined' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('undefined') || ' '''))) OR (similarity('undefined', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:66:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 200ms (Views: 0.4ms | ActiveRecord: 196.9ms | Allocations: 1457)


Started GET "/productsearch?search=undefined&category=cleanser+moisturizer" for ::1 at 2019-12-04 13:45:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser moisturizer"}
  [1m[36mProduct Load (213.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'undefined' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'undefined' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('undefined') || ' '''))) OR (similarity('undefined', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:66:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 217ms (Views: 0.4ms | ActiveRecord: 213.7ms | Allocations: 1413)


Started GET "/productsearch?search=undefined&category=cleanser+moisturizer+eye+lip+mask+mist+sunscreen+toner+treatment+misc" for ::1 at 2019-12-04 13:45:52 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser moisturizer eye lip mask mist sunscreen toner treatment misc"}
  [1m[36mProduct Load (190.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'undefined' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'undefined' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('undefined') || ' '''))) OR (similarity('undefined', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:66:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 193ms (Views: 0.4ms | ActiveRecord: 190.4ms | Allocations: 1412)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:47:09 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.17ms)
Completed 200 OK in 73ms (Views: 5.0ms | ActiveRecord: 23.5ms | Allocations: 26076)


Started GET "/productsearch?search=undefined&category=cleanser+moisturizer+mask" for ::1 at 2019-12-04 13:47:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser moisturizer mask"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 224)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:50:08 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.42ms)
Completed 200 OK in 77ms (Views: 4.4ms | ActiveRecord: 16.5ms | Allocations: 26076)


Started GET "/productsearch?search=undefined&category=lip+cleanser" for ::1 at 2019-12-04 13:50:12 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"lip cleanser"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 225)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:52:37 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.48ms)
Completed 200 OK in 93ms (Views: 6.1ms | ActiveRecord: 25.4ms | Allocations: 26127)


Started GET "/productsearch?search=undefined&category=lip+cleanser" for ::1 at 2019-12-04 13:52:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"lip cleanser"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 231)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:52:58 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (2.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.06ms)
Completed 200 OK in 82ms (Views: 5.0ms | ActiveRecord: 29.6ms | Allocations: 26076)


Started GET "/productsearch?search=undefined&category=cleanser+lip" for ::1 at 2019-12-04 13:53:02 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser lip"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 224)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:53:26 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.76ms)
Completed 200 OK in 59ms (Views: 3.3ms | ActiveRecord: 17.4ms | Allocations: 26076)


Started GET "/productsearch?search=undefined&category=cleanser+eye+moisturizer" for ::1 at 2019-12-04 13:53:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser eye moisturizer"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 134)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/products_controller.rb:64:in `[]='
app/controllers/products_controller.rb:64:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 13:54:05 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.94ms)
Completed 200 OK in 14ms (Views: 3.4ms | ActiveRecord: 1.9ms | Allocations: 9061)


Started GET "/productsearch?search=undefined&category=lip+moisturizer+eye" for ::1 at 2019-12-04 13:54:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"lip moisturizer eye"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 216)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:00:21 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.7ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.74ms)
Completed 200 OK in 60ms (Views: 4.5ms | ActiveRecord: 5.8ms | Allocations: 25574)


Started GET "/productsearch?search=undefined&category=eye+cleanser" for ::1 at 2019-12-04 14:00:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"eye cleanser"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 134)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/products_controller.rb:68:in `[]='
app/controllers/products_controller.rb:68:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:01:27 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.04ms)
Completed 200 OK in 65ms (Views: 3.8ms | ActiveRecord: 23.9ms | Allocations: 26097)


Started GET "/productsearch?search=undefined&category=mask+cleanser" for ::1 at 2019-12-04 14:01:32 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"mask cleanser"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 134)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/products_controller.rb:68:in `[]='
app/controllers/products_controller.rb:68:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:01:59 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.66ms)
Completed 200 OK in 24ms (Views: 6.2ms | ActiveRecord: 2.9ms | Allocations: 9061)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:04:09 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.7ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.13ms)
Completed 200 OK in 99ms (Views: 6.0ms | ActiveRecord: 35.0ms | Allocations: 26125)


Started GET "/productsearch?search=undefined&category=lip" for ::1 at 2019-12-04 14:04:11 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"lip"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 135)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/products_controller.rb:69:in `[]='
app/controllers/products_controller.rb:69:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:04:27 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.61ms)
Completed 200 OK in 71ms (Views: 4.3ms | ActiveRecord: 22.1ms | Allocations: 26075)


Started GET "/productsearch?search=undefined&category=mask" for ::1 at 2019-12-04 14:04:31 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"mask"}
  [1m[36mProduct Load (2.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "moisturizer"]]
  â†³ app/controllers/products_controller.rb:76:in `puts'
  [1m[36mProduct Load (25.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (undefined)[0m
  â†³ app/controllers/products_controller.rb:82:in `sort_by'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 28.4ms | Allocations: 1348)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "undefined" does not exist
LINE 1: SELECT "products".* FROM "products" WHERE (undefined)
                                                   ^
):
  
app/controllers/products_controller.rb:82:in `sort_by'
app/controllers/products_controller.rb:82:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:05:42 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.69ms)
Completed 200 OK in 116ms (Views: 5.6ms | ActiveRecord: 28.6ms | Allocations: 26118)


Started GET "/productsearch?search=undefined&category=eye" for ::1 at 2019-12-04 14:05:45 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"eye"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "moisturizer"]]
  â†³ app/controllers/products_controller.rb:76:in `puts'
  [1m[36mProduct Load (6.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (undefined)[0m
  â†³ app/controllers/products_controller.rb:82:in `sort_by'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 7.2ms | Allocations: 1332)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "undefined" does not exist
LINE 1: SELECT "products".* FROM "products" WHERE (undefined)
                                                   ^
):
  
app/controllers/products_controller.rb:82:in `sort_by'
app/controllers/products_controller.rb:82:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:08:04 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.95ms)
Completed 200 OK in 86ms (Views: 7.2ms | ActiveRecord: 25.1ms | Allocations: 26086)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:08:06 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:76:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 1.8ms | Allocations: 801)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:09:47 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (46.08ms)
Completed 200 OK in 162ms (Views: 47.1ms | ActiveRecord: 42.8ms | Allocations: 26079)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:09:50 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:77:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 820)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:10:16 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.86ms)
Completed 200 OK in 81ms (Views: 4.6ms | ActiveRecord: 29.3ms | Allocations: 26121)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:10:19 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (18.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer','cleanser')[0m
  â†³ app/controllers/products_controller.rb:77:in `puts'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 18.6ms | Allocations: 739)


  
ActiveRecord::StatementInvalid (PG::DatatypeMismatch: ERROR:  argument of WHERE must be type boolean, not type record
LINE 1: SELECT "products".* FROM "products" WHERE (category = 'moist...
                                                  ^
):
  
app/controllers/products_controller.rb:77:in `puts'
app/controllers/products_controller.rb:77:in `puts'
app/controllers/products_controller.rb:77:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:11:29 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.45ms)
Completed 200 OK in 80ms (Views: 8.6ms | ActiveRecord: 22.3ms | Allocations: 26075)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:11:32 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE ((category = 'moisturizer') OR (category = 'cleanser'))[0m
  â†³ app/controllers/products_controller.rb:77:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (18.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:93:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:93:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:93:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:93:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (109.39ms)
Completed 200 OK in 115ms (Views: 52.5ms | ActiveRecord: 60.0ms | Allocations: 22789)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:13:06 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.81ms)
Completed 200 OK in 69ms (Views: 6.7ms | ActiveRecord: 22.8ms | Allocations: 26124)


Started GET "/productsearch?search=undefined&category=cleanser+mask" for ::1 at 2019-12-04 14:13:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser mask"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 134)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/products_controller.rb:68:in `[]='
app/controllers/products_controller.rb:68:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:13:24 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 14ms (Views: 2.7ms | ActiveRecord: 2.3ms | Allocations: 9061)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:14:23 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.21ms)
Completed 200 OK in 111ms (Views: 7.0ms | ActiveRecord: 32.7ms | Allocations: 26076)


Started GET "/productsearch?search=undefined&category=cleanser+eye" for ::1 at 2019-12-04 14:14:28 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser eye"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 229)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:14:37 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.44ms)
Completed 200 OK in 14ms (Views: 2.9ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 14:14:38 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 200)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 14:14:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 200)


Started GET "/productsearch?search=undefined&category=mask" for ::1 at 2019-12-04 14:14:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"mask"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 210)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:21:13 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (1.0ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (5.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.4ms)
Completed 200 OK in 102ms (Views: 9.8ms | ActiveRecord: 13.0ms | Allocations: 25575)


Started GET "/productsearch?search=undefined&category=cleanser+eye+lip+mask+moisturizer+mist+sunscreen+toner+treatment" for ::1 at 2019-12-04 14:21:19 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser eye lip mask moisturizer mist sunscreen toner treatment"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 250)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:24:10 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.67ms)
Completed 200 OK in 151ms (Views: 4.6ms | ActiveRecord: 68.2ms | Allocations: 26098)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:24:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 992)


  
NoMethodError (undefined method `length=' for ["cleanser"]:Array
Did you mean?  length):
  
app/controllers/products_controller.rb:76:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:24:25 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.6ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.16ms)
Completed 200 OK in 117ms (Views: 9.4ms | ActiveRecord: 35.7ms | Allocations: 26124)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:24:29 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (8.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'cleanser')[0m
  â†³ app/controllers/products_controller.rb:95:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 200 OK in 12ms (Views: 0.9ms | ActiveRecord: 8.0ms | Allocations: 864)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:25:38 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 2577)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:25:56 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'cleanser') LIMIT $1[0m  [["LIMIT", 75]]
  â†³ app/controllers/products_controller.rb:96:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.11ms)
Completed 200 OK in 24ms (Views: 0.5ms | ActiveRecord: 9.4ms | Allocations: 9249)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:27:24 -0800
  
SyntaxError (/Users/genevieve/Development/mod_5/skincare-tracker-backend/app/controllers/products_controller.rb:77: syntax error, unexpected tIDENTIFIER, expecting end
...ring = "Product.where("category = '#{categories_ary[0]}'").l...
...                       ^~~~~~~~):
  
app/controllers/products_controller.rb:77: syntax error, unexpected tIDENTIFIER, expecting end
app/controllers/products_controller.rb:77: syntax error, unexpected tIDENTIFIER, expecting end
Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:27:45 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.25ms)
Completed 200 OK in 84ms (Views: 6.1ms | ActiveRecord: 21.4ms | Allocations: 26123)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:27:47 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.23ms)
Completed 200 OK in 35ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 239)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:28:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 314)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:28:44 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.12ms)
Completed 200 OK in 77ms (Views: 4.8ms | ActiveRecord: 23.0ms | Allocations: 25980)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:28:47 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 151)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:29:39 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (5.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (10.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.32ms)
Completed 200 OK in 159ms (Views: 9.0ms | ActiveRecord: 58.7ms | Allocations: 26125)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:29:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'cleanser') LIMIT $1[0m  [["LIMIT", 75]]
  â†³ app/controllers/products_controller.rb:96:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (25.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (122.48ms)
Completed 200 OK in 132ms (Views: 46.7ms | ActiveRecord: 82.1ms | Allocations: 22742)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:30:20 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (18.31ms)
Completed 200 OK in 148ms (Views: 20.7ms | ActiveRecord: 29.6ms | Allocations: 26080)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:30:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'cleanser') LIMIT $1[0m  [["LIMIT", 75]]
  â†³ app/controllers/products_controller.rb:103:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (20.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (18.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (22.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (126.42ms)
Completed 200 OK in 135ms (Views: 43.3ms | ActiveRecord: 88.3ms | Allocations: 22736)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:30:55 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'cleanser') LIMIT $1[0m  [["LIMIT", 75]]
  â†³ app/controllers/products_controller.rb:103:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (85.28ms)
Completed 200 OK in 104ms (Views: 29.7ms | ActiveRecord: 64.1ms | Allocations: 31154)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:30:57 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.51ms)
Completed 200 OK in 52ms (Views: 7.5ms | ActiveRecord: 13.1ms | Allocations: 17716)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:31:00 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'cleanser') LIMIT $1[0m  [["LIMIT", 75]]
  â†³ app/controllers/products_controller.rb:103:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (16.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (28.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (17.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (17.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (109.0ms)
Completed 200 OK in 114ms (Views: 29.6ms | ActiveRecord: 82.0ms | Allocations: 16875)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:32:08 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.76ms)
Completed 200 OK in 134ms (Views: 10.3ms | ActiveRecord: 35.0ms | Allocations: 26076)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:32:11 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:60:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 787)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 14:32:15 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:60:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 769)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:33:27 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (49.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.97ms)
Completed 200 OK in 200ms (Views: 8.2ms | ActiveRecord: 100.6ms | Allocations: 26128)


Started GET "/productsearch?search=undefined&category=moisturizer" for ::1 at 2019-12-04 14:33:36 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"moisturizer"}
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 2.4ms | Allocations: 1017)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:34:27 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.0ms)
Completed 200 OK in 29ms (Views: 5.5ms | ActiveRecord: 4.1ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=cleanser" for ::1 at 2019-12-04 14:34:38 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"cleanser"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 197)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-04 14:35:18 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 197)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:36:00 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (9.22ms)
Completed 200 OK in 35ms (Views: 10.5ms | ActiveRecord: 3.9ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 14:36:15 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.36ms)
Completed 200 OK in 204ms (Views: 9.7ms | ActiveRecord: 37.2ms | Allocations: 26077)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 14:36:19 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (276.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:56:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (15.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (16.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (18.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (18.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (16.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (17.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (19.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (34.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (27.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (28.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (18.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:118:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (807.72ms)
Completed 200 OK in 1091ms (Views: 247.8ms | ActiveRecord: 838.7ms | Allocations: 147808)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:38:44 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.7ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (10.08ms)
Completed 200 OK in 75ms (Views: 20.2ms | ActiveRecord: 6.1ms | Allocations: 9200)


Started GET "/productsearch?search=undefined&category=mask" for ::1 at 2019-12-04 16:39:38 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"mask"}
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.15ms)
Completed 200 OK in 20ms (Views: 2.8ms | ActiveRecord: 7.6ms | Allocations: 3916)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:40:13 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (11.92ms)
Completed 200 OK in 107ms (Views: 15.1ms | ActiveRecord: 28.7ms | Allocations: 26148)


Started GET "/productsearch?search=undefined&category=moisturizer" for ::1 at 2019-12-04 16:40:18 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"moisturizer"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:110:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 1.1ms | Allocations: 805)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:40:58 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (7.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (10.69ms)
Completed 200 OK in 75ms (Views: 11.6ms | ActiveRecord: 10.1ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 16:41:02 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (226.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:57:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (15.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:119:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (642.17ms)
Completed 200 OK in 892ms (Views: 257.6ms | ActiveRecord: 626.8ms | Allocations: 149591)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:42:29 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.01ms)
Completed 200 OK in 17ms (Views: 4.6ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/productsearch?search=undefined&category=moisturizer" for ::1 at 2019-12-04 16:42:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"moisturizer"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:110:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.17ms)
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 1.3ms | Allocations: 790)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:42:56 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.0ms)
Completed 200 OK in 19ms (Views: 5.6ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=undefined&category=moisturizer" for ::1 at 2019-12-04 16:43:01 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"moisturizer"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:110:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 790)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:44:17 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.01ms)
Completed 200 OK in 79ms (Views: 5.1ms | ActiveRecord: 28.6ms | Allocations: 26127)


Started GET "/productsearch?search=undefined&category=moisturizer" for ::1 at 2019-12-04 16:44:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"moisturizer"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:66:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 811)


Started GET "/productsearch?search=undefined&category=moisturizer" for ::1 at 2019-12-04 16:44:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"moisturizer"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:66:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 4.2ms | Allocations: 3628)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:44:38 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.42ms)
Completed 200 OK in 71ms (Views: 2.9ms | ActiveRecord: 11.9ms | Allocations: 23266)


Started GET "/productsearch?search=undefined&category=moisturizer" for ::1 at 2019-12-04 16:44:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"moisturizer"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (category = 'moisturizer')[0m
  â†³ app/controllers/products_controller.rb:66:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 795)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:45:06 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.13ms)
Completed 200 OK in 65ms (Views: 3.8ms | ActiveRecord: 20.5ms | Allocations: 26119)


Started GET "/productsearch?search=undefined&category=moisturizer" for ::1 at 2019-12-04 16:45:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"moisturizer"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "moisturizer"]]
  â†³ app/controllers/products_controller.rb:66:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 851)


Started GET "/productsearch?search=honey&category=moisturizer" for ::1 at 2019-12-04 16:46:46 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"moisturizer"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/productsearch?search=honey&category=moisturizer" for ::1 at 2019-12-04 16:46:49 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"moisturizer"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-04 16:46:53 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:46:55 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.62ms)
Completed 200 OK in 14ms (Views: 3.1ms | ActiveRecord: 1.9ms | Allocations: 9065)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 16:46:57 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (190.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:57:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (529.11ms)
Completed 200 OK in 733ms (Views: 153.6ms | ActiveRecord: 575.8ms | Allocations: 149588)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:48:29 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.8ms)
Completed 200 OK in 85ms (Views: 4.6ms | ActiveRecord: 30.9ms | Allocations: 26125)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 16:48:36 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (7.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/controllers/products_controller.rb:67:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 8]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 10]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 11]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 12]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 13]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 14]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 15]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 18]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 19]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 20]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 21]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 22]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 23]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 24]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 40]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 41]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 42]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 43]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 44]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 47]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 48]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 49]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 50]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 51]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 54]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 55]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 56]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 57]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 58]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 59]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 60]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 61]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 62]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 63]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 64]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 65]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 66]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 67]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 68]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 69]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 70]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 71]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 72]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 73]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 74]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 75]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:126:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1266.31ms)
Completed 200 OK in 1367ms (Views: 384.2ms | ActiveRecord: 892.4ms | Allocations: 351294)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:49:40 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.63ms)
Completed 200 OK in 77ms (Views: 6.5ms | ActiveRecord: 22.6ms | Allocations: 26145)


Started GET "/productsearch?search=undefined&category=cleanser" for ::1 at 2019-12-04 16:49:43 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"cleanser"}
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:66:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (19.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 41]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 43]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 54]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 64]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 67]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 68]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 73]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 85]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 108]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 121]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 124]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 129]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 143]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 146]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 155]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 162]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 163]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 181]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 194]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 195]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 196]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 208]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 209]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 220]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 224]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 226]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 231]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 233]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 270]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 278]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 280]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 281]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 289]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 290]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 300]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 306]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 309]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 310]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 315]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 319]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 320]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 323]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 325]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 339]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 345]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 347]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 349]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 391]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 400]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 415]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 417]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 423]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 444]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 446]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 454]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 459]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 460]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 467]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 472]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 477]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 485]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 486]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 493]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (19.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 514]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (20.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 520]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 521]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 532]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:125:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1388.2ms)
Completed 200 OK in 1410ms (Views: 453.1ms | ActiveRecord: 939.9ms | Allocations: 393924)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:52:23 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (10.62ms)
Completed 200 OK in 115ms (Views: 12.5ms | ActiveRecord: 15.0ms | Allocations: 26124)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:53:19 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (9.98ms)
Completed 200 OK in 32ms (Views: 10.5ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:53:49 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.61ms)
Completed 200 OK in 71ms (Views: 5.3ms | ActiveRecord: 20.4ms | Allocations: 26125)


Started GET "/productsearch?search=undefined&category=Cleanser" for ::1 at 2019-12-04 16:53:51 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Cleanser"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (29.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1245.49ms)
Completed 200 OK in 1264ms (Views: 348.0ms | ActiveRecord: 901.8ms | Allocations: 314928)


Started GET "/productsearch?search=undefined&category=Cleanser" for ::1 at 2019-12-04 16:53:55 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Cleanser"}
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1296.69ms)
Completed 200 OK in 1313ms (Views: 396.4ms | ActiveRecord: 904.2ms | Allocations: 309040)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:54:01 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 840)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:54:07 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 840)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:54:20 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.77ms)
Completed 200 OK in 103ms (Views: 3.2ms | ActiveRecord: 18.6ms | Allocations: 26179)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:54:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 1.1ms | Allocations: 855)


Started GET "/productsearch?search=undefined&category=Lip" for ::1 at 2019-12-04 16:54:31 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Lip"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Lip"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 840)


Started GET "/productsearch?search=undefined&category=Mask" for ::1 at 2019-12-04 16:54:38 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Mask"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Mask"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 56]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 65]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 70]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 78]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 83]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 84]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 86]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 105]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 109]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 117]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 119]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 122]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 123]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 125]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 127]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 130]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 131]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 133]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 138]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 139]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 190]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 198]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 218]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 242]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 245]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 255]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 265]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 268]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 269]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 292]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 294]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 311]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 326]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 340]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 344]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 346]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 348]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 353]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 361]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 373]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 377]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 378]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 379]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 387]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 388]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 389]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 390]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 394]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 401]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 403]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 404]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 405]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 406]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 419]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 420]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 435]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 436]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 438]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 439]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 440]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 441]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 452]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 455]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 478]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 481]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 482]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 483]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 487]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 488]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1255.04ms)
Completed 200 OK in 1269ms (Views: 390.4ms | ActiveRecord: 869.1ms | Allocations: 344016)


Started GET "/productsearch?search=undefined&category=Moisturizer" for ::1 at 2019-12-04 16:54:46 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Moisturizer"}
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 41]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 43]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 54]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 64]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 67]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 68]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 73]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 85]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 108]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 121]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 124]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 129]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 143]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 146]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 155]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 162]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 163]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 181]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 194]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 195]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 196]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 208]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 209]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 220]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 224]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 226]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 231]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 233]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 270]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 278]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 280]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 281]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 289]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 290]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 300]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 306]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 309]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 310]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 315]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 319]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 320]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 323]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 325]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 339]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 345]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 347]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 349]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 391]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 400]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 415]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 417]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 423]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 444]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 446]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 454]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 459]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 460]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 467]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 472]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 477]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 485]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 486]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 493]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 514]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 520]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 521]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 532]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1329.32ms)
Completed 200 OK in 1353ms (Views: 443.5ms | ActiveRecord: 890.9ms | Allocations: 388055)


Started GET "/productsearch?search=undefined&category=Mist" for ::1 at 2019-12-04 16:54:52 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Mist"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 11]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 692]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1369]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1424]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1540]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1712]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1822]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1824]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (156.6ms)
Completed 200 OK in 160ms (Views: 41.2ms | ActiveRecord: 117.1ms | Allocations: 42060)


Started GET "/productsearch?search=undefined&category=Sunscreen" for ::1 at 2019-12-04 16:54:58 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Sunscreen"}
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Sunscreen"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 8]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 12]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 21]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 22]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 97]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 106]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 132]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 150]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 151]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 161]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 230]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 236]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 237]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 238]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 239]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 240]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 243]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 284]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 285]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 286]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 287]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 288]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 360]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 425]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 461]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 462]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 464]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 465]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 466]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 468]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 470]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 471]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 473]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 475]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 476]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 497]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 559]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 565]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 616]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 617]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 618]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 619]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 675]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 679]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 683]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 697]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 707]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 781]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 871]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 872]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 884]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 961]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 964]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1037]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1040]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1043]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1048]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1050]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1051]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1052]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1053]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1054]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1055]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1056]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1057]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1058]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1087]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1138]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1186]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1311.8ms)
Completed 200 OK in 1322ms (Views: 451.3ms | ActiveRecord: 863.7ms | Allocations: 351018)


Started GET "/productsearch?search=undefined&category=Toner" for ::1 at 2019-12-04 16:55:04 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Toner"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Toner"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (15.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 23]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 49]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 76]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 80]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 96]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 116]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 118]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 120]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 147]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 197]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 199]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 211]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 267]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 317]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 321]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 322]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 398]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 402]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 418]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 447]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 458]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 496]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 535]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 573]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 587]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 598]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 620]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 638]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 647]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 686]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 691]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 720]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 739]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 743]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 745]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 757]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 767]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 822]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 823]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 835]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 836]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 850]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 867]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 877]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 892]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 907]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 951]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 953]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 957]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 966]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 967]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 986]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1001]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1007]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1041]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1077]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1112]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1139]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1163]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1222]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1238]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1255]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1278]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1311]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1359]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1378]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1438]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1460]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1476]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1477]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1193.87ms)
Completed 200 OK in 1206ms (Views: 324.8ms | ActiveRecord: 872.4ms | Allocations: 294788)


Started GET "/productsearch?search=undefined&category=Treatment" for ::1 at 2019-12-04 16:55:12 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Treatment"}
  [1m[36mProduct Load (2.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Treatment"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 19]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 42]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 47]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 48]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 55]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 63]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 66]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 69]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 71]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 72]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 74]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 75]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 79]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 87]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 88]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 89]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 92]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 93]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 94]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 95]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 104]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 115]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 140]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 141]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 142]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 144]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 145]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 148]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 149]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 153]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 201]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 204]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 205]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 210]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 212]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 217]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 221]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 222]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 223]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 225]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 227]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 254]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 256]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 257]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 258]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 262]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 266]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 271]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 272]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 295]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 296]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 297]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 298]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 299]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 301]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 307]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 316]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 338]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 341]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 350]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 371]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 372]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 393]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 395]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1372.07ms)
Completed 200 OK in 1398ms (Views: 488.8ms | ActiveRecord: 888.9ms | Allocations: 394786)


Started GET "/productsearch?search=undefined&category=Misc" for ::1 at 2019-12-04 16:55:18 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Misc"}
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Misc"]]
  â†³ app/controllers/products_controller.rb:83:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 13]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 14]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 15]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 18]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 20]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 24]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 40]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 44]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 50]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 51]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 57]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 58]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 59]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 60]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 61]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 62]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 98]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 100]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 101]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 102]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 103]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 107]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 111]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 112]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 135]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 152]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 157]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 158]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 159]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 160]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 164]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 165]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 166]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 167]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 168]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 169]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 171]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 172]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 173]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 174]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 176]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 177]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 178]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 179]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 182]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 183]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 184]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 185]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 186]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 187]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 188]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 189]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 191]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 192]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 193]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 202]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:134:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1225.15ms)
Completed 200 OK in 1250ms (Views: 386.5ms | ActiveRecord: 842.7ms | Allocations: 381967)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:55:47 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye"]]
  â†³ app/controllers/products_controller.rb:85:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 5.1ms | Allocations: 3681)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:56:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye"]]
  â†³ app/controllers/products_controller.rb:85:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 3.1ms | Allocations: 3678)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:56:35 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:85:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1733]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (147.97ms)
Completed 200 OK in 169ms (Views: 62.4ms | ActiveRecord: 94.5ms | Allocations: 37239)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:56:57 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:85:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1733]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (118.98ms)
Completed 200 OK in 140ms (Views: 33.1ms | ActiveRecord: 94.7ms | Allocations: 37229)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:56:59 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.34ms)
Completed 200 OK in 31ms (Views: 2.9ms | ActiveRecord: 7.8ms | Allocations: 17720)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 16:57:00 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 213)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:57:03 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:85:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1733]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (109.71ms)
Completed 200 OK in 113ms (Views: 26.0ms | ActiveRecord: 85.3ms | Allocations: 22950)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 16:57:36 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.34ms)
Completed 200 OK in 16ms (Views: 3.8ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/productsearch?search=undefined&category=Cleanser" for ::1 at 2019-12-04 16:57:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Cleanser"}
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:85:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1195.71ms)
Completed 200 OK in 1211ms (Views: 327.1ms | ActiveRecord: 872.1ms | Allocations: 309050)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 16:57:59 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:85:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1733]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (107.88ms)
Completed 200 OK in 112ms (Views: 27.2ms | ActiveRecord: 82.4ms | Allocations: 22950)


Started GET "/productsearch?search=undefined&category=Lip" for ::1 at 2019-12-04 16:58:06 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Lip"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Lip Care"]]
  â†³ app/controllers/products_controller.rb:85:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 156]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 180]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 410]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 412]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 610]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 779]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 780]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 973]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1003]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1171]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1201]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1418]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1469]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1569]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1570]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1705]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1707]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1746]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1829]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1832]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1902]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1935]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1986]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:136:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (486.54ms)
Completed 200 OK in 491ms (Views: 146.6ms | ActiveRecord: 342.0ms | Allocations: 119216)


Started GET "/productsearch?search=undefined&category=Treatment" for ::1 at 2019-12-04 16:59:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Treatment"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Treatment"]]
  â†³ app/controllers/products_controller.rb:87:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 19]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 42]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 47]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 48]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 55]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 63]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 66]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 69]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 71]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 72]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 74]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 75]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 79]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 87]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 88]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 89]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 92]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 93]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 94]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 95]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 104]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 115]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 140]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 141]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 142]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 144]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 145]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 148]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 149]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 153]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 201]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 204]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 205]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 210]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 212]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 217]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 221]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 222]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 223]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 225]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 227]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 254]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 256]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 257]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 258]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 262]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 266]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 271]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 272]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 295]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 296]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 297]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 298]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 299]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 301]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 307]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 316]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 338]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 341]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 350]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 371]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 372]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 393]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 395]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:101:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1306.51ms)
Completed 200 OK in 1347ms (Views: 468.9ms | ActiveRecord: 850.6ms | Allocations: 409125)


Started GET "/productsearch?search=undefined&category=Lip" for ::1 at 2019-12-04 17:02:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Lip"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Lip Care"]]
  â†³ app/controllers/products_controller.rb:96:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 156]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 180]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 410]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 412]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 610]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 779]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 780]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 973]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1003]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1171]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1201]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1418]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1469]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1569]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1570]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1705]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1707]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1746]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1829]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1832]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1902]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1935]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1986]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (467.42ms)
Completed 200 OK in 490ms (Views: 121.1ms | ActiveRecord: 355.7ms | Allocations: 133409)


Started GET "/productsearch?search=undefined&category=Eye" for ::1 at 2019-12-04 17:02:29 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:96:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1733]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (108.84ms)
Completed 200 OK in 113ms (Views: 24.6ms | ActiveRecord: 86.2ms | Allocations: 22918)


Started GET "/productsearch?search=undefined&category=Eye+Cleanser" for ::1 at 2019-12-04 17:02:36 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye Cleanser"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (16.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1165.9ms)
Completed 200 OK in 1183ms (Views: 321.7ms | ActiveRecord: 848.5ms | Allocations: 309762)


Started GET "/productsearch?search=undefined&category=Eye+Cleanser" for ::1 at 2019-12-04 17:04:05 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye Cleanser"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 651]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 652]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 656]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 657]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 663]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 670]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 671]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 673]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 687]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 693]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 709]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 737]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 753]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 755]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 756]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 758]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 772]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 776]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 777]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 782]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 798]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 799]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 807]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 814]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 829]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 831]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 832]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 833]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 834]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 837]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 894]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 928]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 934]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 936]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 960]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 971]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 977]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 981]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 982]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 988]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 989]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 992]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 993]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 995]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 997]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 999]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1002]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1004]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1012]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1013]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1014]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1015]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1016]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1066]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1068]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1073]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1082]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1108]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1109]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1111]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1120]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1140]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1169]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1178]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1180]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1193]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1194]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1204]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1208]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1209]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1225]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1230]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1236]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1237]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1243]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1245]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1254]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1270]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1280]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1282]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1288]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1290]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1300]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1321]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1333]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1341]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1344]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1357]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1372]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1383]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1384]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1387]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1403]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1428]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1430]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1445]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1457]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1468]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1481]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1482]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1495]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1497]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1499]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1501]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1533]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1539]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1573]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1580]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1581]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1583]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1584]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1587]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1600]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1601]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1604]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1606]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1613]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1621]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1622]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1640]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1641]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1654]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1657]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1659]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1671]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1680]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1691]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1692]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1694]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1699]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1701]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1703]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1709]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1723]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1725]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1733]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1735]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1736]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1741]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1751]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1761]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1765]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1774]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1780]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1803]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1818]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1823]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1863]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1864]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1867]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1869]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1878]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1883]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1889]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1907]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1913]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1921]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1945]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1955]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1960]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1973]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1979]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1995]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4514.47ms)
Completed 200 OK in 4558ms (Views: 1325.8ms | ActiveRecord: 3204.4ms | Allocations: 1099219)


Started GET "/productsearch?search=undefined&category=Eye+Cleanser" for ::1 at 2019-12-04 17:04:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye Cleanser"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 651]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 652]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 656]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 657]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 663]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 670]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 671]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 673]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 687]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 693]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 709]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 737]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 753]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 755]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 756]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 758]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 772]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 776]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 777]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 782]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 798]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 799]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 807]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 814]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 829]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 831]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 832]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 833]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 834]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 837]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 894]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 928]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 934]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 936]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 960]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 971]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 977]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 981]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 982]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 988]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 989]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 992]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 993]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 995]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 997]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 999]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1002]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1004]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1012]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1013]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1014]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1015]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1016]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1066]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1068]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1073]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1082]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1108]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1109]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1111]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1120]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1140]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1169]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1178]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1180]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1193]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1194]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1204]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1208]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1209]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1225]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1230]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1236]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1237]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1243]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1245]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1254]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1270]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1280]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1282]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1288]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1290]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1300]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1321]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1333]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1341]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1344]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1357]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1372]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1383]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1384]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1387]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1403]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1428]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1430]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1445]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1457]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1468]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1481]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1482]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1495]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1497]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1499]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1501]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1533]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1539]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1573]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1580]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1581]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1583]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1584]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1587]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1600]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1601]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1604]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1606]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1613]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1621]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1622]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1640]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1641]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1654]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1657]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1659]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1671]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1680]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1691]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1692]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1694]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1699]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1701]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1703]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1709]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1723]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1725]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1733]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1735]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1736]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1741]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1751]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1761]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1765]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1774]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1780]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1803]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1818]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1823]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1863]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1864]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1867]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1869]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1878]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1883]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1889]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1907]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1913]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1921]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1945]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1955]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1960]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1973]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1979]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1995]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4594.71ms)
Completed 200 OK in 4615ms (Views: 1333.9ms | ActiveRecord: 3268.1ms | Allocations: 1084941)


Started GET "/productsearch?search=undefined&category=Eye+Cleanser+Mist" for ::1 at 2019-12-04 17:04:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Eye Cleanser Mist"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 11]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 651]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 652]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 656]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 657]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 663]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 670]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 671]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 673]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 687]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 692]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 693]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 709]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 737]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 753]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 755]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 756]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 758]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 772]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 776]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 777]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 782]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 798]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 799]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 807]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 814]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 829]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 831]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 832]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 833]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 834]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 837]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 894]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 917]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 928]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 934]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 936]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 960]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 971]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 977]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 981]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 982]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 988]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 989]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 992]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 993]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 995]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 997]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 999]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1000]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1002]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1004]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1012]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1013]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1014]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1015]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1016]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1065]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1066]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1068]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1073]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1082]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1108]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1109]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1111]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1120]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1140]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1169]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1178]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1180]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1193]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1194]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1204]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1206]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1208]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1209]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1225]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1230]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1236]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1237]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1243]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1245]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1254]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1270]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1280]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1282]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1288]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1290]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1300]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1321]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1333]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1341]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1344]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1357]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1369]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1372]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1383]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1384]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1387]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1403]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1424]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1428]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1430]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1445]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1457]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1468]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1481]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1482]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1495]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1497]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1499]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1501]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1533]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1539]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1540]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1573]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1580]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1581]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1583]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1584]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1587]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1600]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1601]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1604]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1606]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1613]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1621]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1622]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1640]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1641]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1654]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1657]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1659]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1671]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1680]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1691]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1692]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1694]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1699]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1701]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1703]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1709]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1712]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1723]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1725]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1733]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1735]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1736]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1741]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1751]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1761]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1765]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1774]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1780]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1803]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1818]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1822]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1823]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1824]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1863]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1864]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1867]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1869]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1878]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1883]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1889]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1907]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1913]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1921]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1945]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1955]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1960]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1973]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1979]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1995]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4646.19ms)
Completed 200 OK in 4691ms (Views: 1345.3ms | ActiveRecord: 3317.3ms | Allocations: 1141896)


Started GET "/productsearch?search=hi&category=Eye+Cleanser+Mist" for ::1 at 2019-12-04 17:05:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hi", "category"=>"Eye Cleanser Mist"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 237)


Started GET "/productsearch?search=hi&category=" for ::1 at 2019-12-04 17:06:36 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hi", "category"=>""}
  [1m[36mProduct Load (188.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hi' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hi' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hi') || ' '''))) OR (similarity('hi', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:55:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 48]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 155]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 156]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 287]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1647]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (119.86ms)
Completed 200 OK in 330ms (Views: 45.8ms | ActiveRecord: 271.0ms | Allocations: 51494)


Started GET "/productsearch?search=hi&category=" for ::1 at 2019-12-04 17:07:16 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hi", "category"=>""}
  [1m[36mProduct Load (186.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hi' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hi' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hi') || ' '''))) OR (similarity('hi', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:55:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 48]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 155]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 156]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 287]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1647]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (113.97ms)
Completed 200 OK in 320ms (Views: 39.6ms | ActiveRecord: 268.8ms | Allocations: 51512)


Started GET "/productsearch?search=&category=Mist" for ::1 at 2019-12-04 17:07:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Mist"}
  [1m[36mProduct Load (200.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:55:in `puts'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 203ms (Views: 0.4ms | ActiveRecord: 200.8ms | Allocations: 1308)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:07:29 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.3ms)
Completed 200 OK in 30ms (Views: 2.8ms | ActiveRecord: 8.3ms | Allocations: 17746)


Started GET "/productsearch?search=undefined&category=Mist" for ::1 at 2019-12-04 17:07:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Mist"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:85:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 11]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 692]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1369]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1424]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1540]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1712]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1822]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1824]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (153.67ms)
Completed 200 OK in 157ms (Views: 39.4ms | ActiveRecord: 115.9ms | Allocations: 42027)


Started GET "/productsearch?search=vitamin&category=" for ::1 at 2019-12-04 17:07:51 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>""}
  [1m[36mProduct Load (185.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:55:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:94:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (551.23ms)
Completed 200 OK in 744ms (Views: 155.1ms | ActiveRecord: 583.3ms | Allocations: 138680)


Started GET "/productsearch?search=vitamin&category=" for ::1 at 2019-12-04 17:08:57 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>""}
  [1m[36mProduct Load (13.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:57:in `puts'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:96:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.62ms)
Completed 200 OK in 67ms (Views: 13.1ms | ActiveRecord: 37.9ms | Allocations: 20524)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:10:50 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.72ms)
Completed 200 OK in 66ms (Views: 5.4ms | ActiveRecord: 20.2ms | Allocations: 26085)


Started GET "/productsearch?search=vitamin" for ::1 at 2019-12-04 17:10:55 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin"}
  [1m[36mProduct Load (188.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (554.56ms)
Completed 200 OK in 750ms (Views: 162.4ms | ActiveRecord: 583.2ms | Allocations: 144487)


Started GET "/productsearch?search=vitamin&category=Mist" for ::1 at 2019-12-04 17:11:00 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>"Mist"}
  [1m[36mProduct Load (3.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.7ms)
Completed 200 OK in 23ms (Views: 5.0ms | ActiveRecord: 14.7ms | Allocations: 6221)


Started GET "/productsearch?search=vitamin&category=Treatment" for ::1 at 2019-12-04 17:11:05 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>"Treatment"}
  [1m[36mProduct Load (57.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Treatment"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (348.5ms)
Completed 200 OK in 411ms (Views: 96.2ms | ActiveRecord: 310.3ms | Allocations: 80171)


Started GET "/productsearch?search=vitamin&category=Treatment" for ::1 at 2019-12-04 17:11:06 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>"Treatment"}
  [1m[36mProduct Load (51.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Treatment"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (322.03ms)
Completed 200 OK in 379ms (Views: 74.2ms | ActiveRecord: 300.3ms | Allocations: 80164)


Started GET "/productsearch?search=arcona&category=Treatment" for ::1 at 2019-12-04 17:11:18 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"arcona", "category"=>"Treatment"}
  [1m[36mProduct Load (48.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'arcona' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'arcona' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('arcona') || ' '''))) OR (similarity('arcona', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Treatment"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 47]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 48]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 153]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 629]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 632]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 633]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 635]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 637]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 644]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 648]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 653]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 654]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 655]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 708]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 794]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 811]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 813]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 881]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1470]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1769]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1770]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1771]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1773]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1776]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1777]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1778]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1779]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1781]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1782]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1786]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1787]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1790]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1792]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1796]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1799]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1800]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1805]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1806]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1807]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1812]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1820]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1908]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1909]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1910]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1911]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1957]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1958]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1959]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (778.21ms)
Completed 200 OK in 832ms (Views: 235.0ms | ActiveRecord: 593.1ms | Allocations: 161966)


Started GET "/productsearch?search=vitamin&category=" for ::1 at 2019-12-04 17:11:57 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>""}
  [1m[36mProduct Load (196.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (591.25ms)
Completed 200 OK in 792ms (Views: 192.4ms | ActiveRecord: 596.2ms | Allocations: 138574)


Started GET "/productsearch?search=vitamin&category=" for ::1 at 2019-12-04 17:12:07 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>""}
  [1m[36mProduct Load (185.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (531.92ms)
Completed 200 OK in 723ms (Views: 133.3ms | ActiveRecord: 585.7ms | Allocations: 138571)


Started GET "/productsearch?search=vitamin&category=" for ::1 at 2019-12-04 17:12:08 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>""}
  [1m[36mProduct Load (193.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (554.74ms)
Completed 200 OK in 754ms (Views: 140.4ms | ActiveRecord: 609.1ms | Allocations: 138569)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:12:26 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 14ms (Views: 2.7ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/productsearch?search=vitamin" for ::1 at 2019-12-04 17:12:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin"}
  [1m[36mProduct Load (185.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (17.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (563.12ms)
Completed 200 OK in 753ms (Views: 160.7ms | ActiveRecord: 589.2ms | Allocations: 138561)


Started GET "/productsearch?search=vitamin&category=Mist+Misc" for ::1 at 2019-12-04 17:12:46 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>"Mist Misc"}
  [1m[36mProduct Load (196.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:68:in `search_brand_or_name'
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:68:in `search_brand_or_name'
Completed 500 Internal Server Error in 208ms (ActiveRecord: 199.9ms | Allocations: 6123)


  
NoMethodError (undefined method `where' for #<Array:0x00007f8c7d3b2a48>
Did you mean?  when):
  
app/controllers/products_controller.rb:68:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:12:52 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.41ms)
Completed 200 OK in 14ms (Views: 2.7ms | ActiveRecord: 2.2ms | Allocations: 9061)


Started GET "/productsearch?search=vitamin&category=Mist+Misc" for ::1 at 2019-12-04 17:13:02 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>"Mist Misc"}
  [1m[36mProduct Load (206.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:68:in `search_brand_or_name'
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:68:in `search_brand_or_name'
Completed 500 Internal Server Error in 218ms (ActiveRecord: 210.1ms | Allocations: 6118)


  
NoMethodError (undefined method `where' for #<Array:0x00007f8c7bdbb190>
Did you mean?  when):
  
app/controllers/products_controller.rb:68:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:14:28 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.27ms)
Completed 200 OK in 65ms (Views: 4.0ms | ActiveRecord: 19.9ms | Allocations: 26143)


Started GET "/productsearch?search=vitamin&category=Mist+Misc" for ::1 at 2019-12-04 17:14:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>"Mist Misc"}
  [1m[36mProduct Load (3.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:68:in `search_brand_or_name'
  [1m[36mProduct Load (52.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Misc"]]
  â†³ app/controllers/products_controller.rb:68:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (64.6ms)
Completed 200 OK in 126ms (Views: 23.9ms | ActiveRecord: 98.5ms | Allocations: 20349)


Started GET "/productsearch?search=vitamin&category=" for ::1 at 2019-12-04 17:14:56 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 868)


Started GET "/productsearch?search=vitamin&category=" for ::1 at 2019-12-04 17:14:57 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:17:02 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.68ms)
Completed 200 OK in 16ms (Views: 3.1ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:17:05 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.46ms)
Completed 200 OK in 15ms (Views: 2.8ms | ActiveRecord: 2.5ms | Allocations: 9062)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 17:17:07 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 213)


Started GET "/productsearch?search=undefined" for ::1 at 2019-12-04 17:17:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined"}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 213)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-04 17:17:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (67.45ms)
Completed 200 OK in 103ms (Views: 21.0ms | ActiveRecord: 79.1ms | Allocations: 18754)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-04 17:17:14 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (35.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (65.6ms)
Completed 200 OK in 104ms (Views: 16.4ms | ActiveRecord: 85.1ms | Allocations: 18754)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-04 17:17:16 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (69.55ms)
Completed 200 OK in 105ms (Views: 22.2ms | ActiveRecord: 80.2ms | Allocations: 18754)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:18:44 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.86ms)
Completed 200 OK in 15ms (Views: 3.2ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:18:52 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.66ms)
Completed 200 OK in 16ms (Views: 4.2ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 17:18:58 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (197.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (578.5ms)
Completed 200 OK in 780ms (Views: 173.1ms | ActiveRecord: 603.5ms | Allocations: 138565)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 17:19:00 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (203.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (21.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (16.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (566.33ms)
Completed 200 OK in 774ms (Views: 134.0ms | ActiveRecord: 636.6ms | Allocations: 138562)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:22:15 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.67ms)
Completed 200 OK in 17ms (Views: 3.1ms | ActiveRecord: 2.7ms | Allocations: 9062)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 17:22:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (200.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (17.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (609.7ms)
Completed 200 OK in 815ms (Views: 186.6ms | ActiveRecord: 624.3ms | Allocations: 138562)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:22:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:23:54 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.53ms)
Completed 200 OK in 14ms (Views: 2.9ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 17:24:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (199.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (560.98ms)
Completed 200 OK in 765ms (Views: 146.4ms | ActiveRecord: 615.3ms | Allocations: 138559)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:24:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=&category=Cleanser" for ::1 at 2019-12-04 17:24:28 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 38ms (Views: 0.4ms | ActiveRecord: 32.7ms | Allocations: 1375)


Started GET "/productsearch?search=&category=Cleanser" for ::1 at 2019-12-04 17:24:29 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Cleanser"}
  [1m[36mProduct Load (31.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 35ms (Views: 0.4ms | ActiveRecord: 31.6ms | Allocations: 1375)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:24:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:24:34 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (3.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.76ms)
Completed 200 OK in 38ms (Views: 8.3ms | ActiveRecord: 5.4ms | Allocations: 9062)


Started GET "/productsearch?search=vitamin&category=Cleanser" for ::1 at 2019-12-04 17:24:45 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.05ms)
Completed 200 OK in 62ms (Views: 12.2ms | ActiveRecord: 45.2ms | Allocations: 5901)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:24:49 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:25:57 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (18.77ms)
Completed 200 OK in 55ms (Views: 19.4ms | ActiveRecord: 2.7ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:26:01 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (199.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (708.44ms)
Completed 200 OK in 915ms (Views: 320.0ms | ActiveRecord: 589.2ms | Allocations: 141905)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:26:03 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=hon&category=" for ::1 at 2019-12-04 17:26:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hon", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:26:22 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:27:28 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.56ms)
Completed 200 OK in 18ms (Views: 2.9ms | ActiveRecord: 2.6ms | Allocations: 9062)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 17:27:32 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (196.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (534.29ms)
Completed 200 OK in 736ms (Views: 129.5ms | ActiveRecord: 602.6ms | Allocations: 138559)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:27:35 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.11ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:27:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:27:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:27:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:27:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:28:10 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.55ms)
Completed 200 OK in 17ms (Views: 5.0ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/productsearch?search=vitamin" for ::1 at 2019-12-04 17:28:15 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin"}
  [1m[36mProduct Load (196.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (557.38ms)
Completed 200 OK in 759ms (Views: 146.8ms | ActiveRecord: 608.1ms | Allocations: 138559)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:28:18 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:28:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:28:27 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:28:28 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.05ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:30:45 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.44ms)
Completed 200 OK in 17ms (Views: 5.0ms | ActiveRecord: 1.9ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:30:52 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (190.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (583.65ms)
Completed 200 OK in 779ms (Views: 188.4ms | ActiveRecord: 586.8ms | Allocations: 141908)


Started GET "/productsearch?search=fruit" for ::1 at 2019-12-04 17:30:55 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit"}
  [1m[36mProduct Load (186.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 379]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (411.94ms)
Completed 200 OK in 603ms (Views: 104.7ms | ActiveRecord: 494.8ms | Allocations: 106542)


Started GET "/productsearch?search=fruit&category=Cleanser" for ::1 at 2019-12-04 17:31:06 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (48.19ms)
Completed 200 OK in 85ms (Views: 12.7ms | ActiveRecord: 69.2ms | Allocations: 11972)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:31:16 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:31:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:31:22 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:31:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.05ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 743)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:31:28 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:31:29 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:31:31 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.28ms)
Completed 200 OK in 14ms (Views: 3.6ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/productsearch?search=fruit" for ::1 at 2019-12-04 17:31:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit"}
  [1m[36mProduct Load (186.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:77:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 379]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (389.34ms)
Completed 200 OK in 581ms (Views: 100.5ms | ActiveRecord: 476.5ms | Allocations: 106539)


Started GET "/productsearch?search=fruit&category=Cleanser" for ::1 at 2019-12-04 17:31:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Cleanser"}
  [1m[36mProduct Load (31.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (45.66ms)
Completed 200 OK in 80ms (Views: 10.6ms | ActiveRecord: 67.0ms | Allocations: 11972)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:31:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.05ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/productsearch?search=fruit&category=Cleanser" for ::1 at 2019-12-04 17:31:45 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (47.43ms)
Completed 200 OK in 84ms (Views: 10.8ms | ActiveRecord: 69.9ms | Allocations: 11973)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:31:48 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 867)


Started GET "/productsearch?search=fruit&category=Eye" for ::1 at 2019-12-04 17:31:50 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Eye"}
  [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 3.5ms | Allocations: 1501)


Started GET "/productsearch?search=fruit&category=Eye" for ::1 at 2019-12-04 17:31:51 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Eye"}
  [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 3.5ms | Allocations: 1501)


Started GET "/productsearch?search=fruit&category=Cleanser" for ::1 at 2019-12-04 17:31:54 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:73:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:109:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (48.15ms)
Completed 200 OK in 84ms (Views: 11.0ms | ActiveRecord: 70.3ms | Allocations: 11972)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:32:26 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.37ms)
Completed 200 OK in 67ms (Views: 3.0ms | ActiveRecord: 20.2ms | Allocations: 26145)


Started GET "/productsearch?search=fruit" for ::1 at 2019-12-04 17:32:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit"}
  [1m[36mProduct Load (208.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:78:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 379]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:110:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (416.88ms)
Completed 200 OK in 631ms (Views: 109.7ms | ActiveRecord: 517.3ms | Allocations: 112440)


Started GET "/productsearch?search=fruit&category=Cleanser" for ::1 at 2019-12-04 17:32:59 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:69:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:105:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (57.86ms)
Completed 200 OK in 111ms (Views: 20.2ms | ActiveRecord: 78.0ms | Allocations: 26227)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:33:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 864)


Started GET "/productsearch?search=fruit&category=Eye" for ::1 at 2019-12-04 17:33:25 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Eye"}
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:69:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 3.3ms | Allocations: 1497)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:34:40 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.7ms)
Completed 200 OK in 68ms (Views: 3.3ms | ActiveRecord: 26.3ms | Allocations: 26076)


Started GET "/productsearch?search=fruit" for ::1 at 2019-12-04 17:34:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit"}
  [1m[36mProduct Load (188.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:74:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 379]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (445.89ms)
Completed 200 OK in 639ms (Views: 146.7ms | ActiveRecord: 489.3ms | Allocations: 112423)


Started GET "/productsearch?search=fruit&category=Cleanser" for ::1 at 2019-12-04 17:34:45 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:70:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:106:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (47.3ms)
Completed 200 OK in 84ms (Views: 11.5ms | ActiveRecord: 69.5ms | Allocations: 11971)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:34:52 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 865)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:35:22 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 6.8ms | Allocations: 3845)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:36:52 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 6.1ms | Allocations: 3848)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:37:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 6.3ms | Allocations: 3850)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:37:52 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
  [1m[36mProduct Load (196.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 379]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (441.45ms)
Completed 200 OK in 661ms (Views: 117.3ms | ActiveRecord: 529.7ms | Allocations: 120831)


Started GET "/productsearch?search=fruit&category=Cleanser" for ::1 at 2019-12-04 17:37:58 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>"Cleanser"}
  [1m[36mProduct Load (31.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (47.22ms)
Completed 200 OK in 82ms (Views: 10.3ms | ActiveRecord: 69.3ms | Allocations: 11981)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:38:00 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
  [1m[36mProduct Load (190.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 379]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (411.83ms)
Completed 200 OK in 606ms (Views: 124.1ms | ActiveRecord: 478.6ms | Allocations: 106530)


Started GET "/productsearch?search=fruit&category=" for ::1 at 2019-12-04 17:38:01 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"fruit", "category"=>""}
  [1m[36mProduct Load (193.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'fruit' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'fruit' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('fruit') || ' '''))) OR (similarity('fruit', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 25]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 26]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 27]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 28]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 29]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 30]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 31]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 32]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 33]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 34]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 35]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 36]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 37]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 38]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 39]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 379]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (378.93ms)
Completed 200 OK in 578ms (Views: 95.9ms | ActiveRecord: 477.1ms | Allocations: 106527)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:06 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (188.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 191ms (Views: 0.4ms | ActiveRecord: 188.8ms | Allocations: 1282)


Started GET "/productsearch?search=HONEY&category=" for ::1 at 2019-12-04 17:38:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"HONEY", "category"=>""}
  [1m[36mProduct Load (194.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'HONEY' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'HONEY' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('HONEY') || ' '''))) OR (similarity('HONEY', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (515.03ms)
Completed 200 OK in 714ms (Views: 130.9ms | ActiveRecord: 580.1ms | Allocations: 141889)


Started GET "/productsearch?search=HONEY&category=Mask" for ::1 at 2019-12-04 17:38:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"HONEY", "category"=>"Mask"}
  [1m[36mProduct Load (27.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'HONEY' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'HONEY' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('HONEY') || ' '''))) OR (similarity('HONEY', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mask"]]
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (163.75ms)
Completed 200 OK in 194ms (Views: 62.2ms | ActiveRecord: 129.2ms | Allocations: 35634)


Started GET "/productsearch?search=HONEY&category=Mask+Cleanser" for ::1 at 2019-12-04 17:38:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"HONEY", "category"=>"Mask Cleanser"}
  [1m[36mProduct Load (25.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'HONEY' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'HONEY' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('HONEY') || ' '''))) OR (similarity('HONEY', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mask"]]
  â†³ app/controllers/products_controller.rb:83:in `search_brand_or_name'
  [1m[36mProduct Load (33.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'HONEY' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'HONEY' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('HONEY') || ' '''))) OR (similarity('HONEY', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:83:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (187.94ms)
Completed 200 OK in 252ms (Views: 46.9ms | ActiveRecord: 201.3ms | Allocations: 53494)


Started GET "/productsearch?search=HONEY&category=Cleanser" for ::1 at 2019-12-04 17:38:26 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"HONEY", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'HONEY' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'HONEY' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('HONEY') || ' '''))) OR (similarity('HONEY', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (64.16ms)
Completed 200 OK in 100ms (Views: 17.1ms | ActiveRecord: 80.6ms | Allocations: 18762)


Started GET "/productsearch?search=HONEY&category=" for ::1 at 2019-12-04 17:38:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"HONEY", "category"=>""}
  [1m[36mProduct Load (198.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'HONEY' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'HONEY' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('HONEY') || ' '''))) OR (similarity('HONEY', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (511.32ms)
Completed 200 OK in 714ms (Views: 129.1ms | ActiveRecord: 581.9ms | Allocations: 141889)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:36 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (196.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 199ms (Views: 0.4ms | ActiveRecord: 196.6ms | Allocations: 1285)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:38 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (188.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 190ms (Views: 0.4ms | ActiveRecord: 188.1ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (194.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 197ms (Views: 0.4ms | ActiveRecord: 194.3ms | Allocations: 1283)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:43 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (203.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 206ms (Views: 0.4ms | ActiveRecord: 203.7ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:43 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (210.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 213ms (Views: 0.4ms | ActiveRecord: 210.4ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:43 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (197.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 200ms (Views: 0.4ms | ActiveRecord: 197.7ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (207.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 210ms (Views: 0.4ms | ActiveRecord: 207.9ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (208.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 211ms (Views: 0.4ms | ActiveRecord: 208.0ms | Allocations: 1285)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (201.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 204ms (Views: 0.4ms | ActiveRecord: 201.7ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (183.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 185ms (Views: 0.4ms | ActiveRecord: 183.1ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:38:47 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (193.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 196ms (Views: 0.4ms | ActiveRecord: 193.3ms | Allocations: 1283)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:38:50 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.62ms)
Completed 200 OK in 30ms (Views: 3.3ms | ActiveRecord: 7.6ms | Allocations: 17752)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:38:53 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1180)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/products_controller.rb:69:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:38:55 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.44ms)
Completed 200 OK in 13ms (Views: 2.7ms | ActiveRecord: 1.8ms | Allocations: 9061)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:38:58 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1179)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/products_controller.rb:69:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:39:01 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.44ms)
Completed 200 OK in 14ms (Views: 2.8ms | ActiveRecord: 2.0ms | Allocations: 9061)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:39:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1179)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/products_controller.rb:69:in `search_brand_or_name'
Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:40:59 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.62ms)
Completed 200 OK in 56ms (Views: 3.2ms | ActiveRecord: 16.0ms | Allocations: 26123)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:41:02 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (185.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (20.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (547.08ms)
Completed 200 OK in 739ms (Views: 146.1ms | ActiveRecord: 588.9ms | Allocations: 147793)


Started GET "/productsearch?search=" for ::1 at 2019-12-04 17:41:05 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (179.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 182ms (Views: 0.4ms | ActiveRecord: 179.9ms | Allocations: 1287)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:41:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (182.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (21.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (582.73ms)
Completed 200 OK in 771ms (Views: 172.0ms | ActiveRecord: 594.6ms | Allocations: 141896)


Started GET "/productsearch?search=honey&category=Mask" for ::1 at 2019-12-04 17:41:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Mask"}
  [1m[36mProduct Load (27.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mask"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (134.5ms)
Completed 200 OK in 166ms (Views: 32.6ms | ActiveRecord: 130.3ms | Allocations: 35630)


Started GET "/productsearch?search=honey&category=Mask+Cleanser+Lip+Moisturizer+Mist+Sunscreen" for ::1 at 2019-12-04 17:41:18 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Mask Cleanser Lip Moisturizer Mist Sunscreen"}
  [1m[36mProduct Load (26.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mask"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (34.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (8.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Lip Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (39.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (16.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Sunscreen"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (394.82ms)
Completed 200 OK in 535ms (Views: 126.7ms | ActiveRecord: 397.4ms | Allocations: 109232)


Started GET "/productsearch?search=honey&category=Mask+Cleanser+Lip+Moisturizer" for ::1 at 2019-12-04 17:41:27 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Mask Cleanser Lip Moisturizer"}
  [1m[36mProduct Load (25.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mask"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (29.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (5.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Lip Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (37.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (382.32ms)
Completed 200 OK in 489ms (Views: 140.1ms | ActiveRecord: 340.2ms | Allocations: 92058)


Started GET "/productsearch?search=honey&category=Mask+Cleanser+Lip+Moisturizer" for ::1 at 2019-12-04 17:41:27 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Mask Cleanser Lip Moisturizer"}
  [1m[36mProduct Load (29.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mask"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (32.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (6.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Lip Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (38.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (393.17ms)
Completed 200 OK in 512ms (Views: 142.5ms | ActiveRecord: 358.1ms | Allocations: 92060)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-04 17:41:36 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
  [1m[36mProduct Load (195.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (522.3ms)
Completed 200 OK in 723ms (Views: 132.8ms | ActiveRecord: 586.0ms | Allocations: 141892)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:41:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (198.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 201ms (Views: 0.4ms | ActiveRecord: 198.2ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:41:43 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (191.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 194ms (Views: 0.4ms | ActiveRecord: 191.8ms | Allocations: 1282)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:45:11 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (11.35ms)
Completed 200 OK in 55ms (Views: 19.3ms | ActiveRecord: 5.1ms | Allocations: 9062)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 17:45:15 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (193.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (19.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (22.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (621.86ms)
Completed 200 OK in 824ms (Views: 180.2ms | ActiveRecord: 637.5ms | Allocations: 138550)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 17:45:19 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (197.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (672.04ms)
Completed 200 OK in 875ms (Views: 242.9ms | ActiveRecord: 627.7ms | Allocations: 138553)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.07ms)
Completed 200 OK in 56ms (Views: 5.3ms | ActiveRecord: 46.9ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.58ms)
Completed 200 OK in 54ms (Views: 5.2ms | ActiveRecord: 46.7ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:25 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (35.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.98ms)
Completed 200 OK in 56ms (Views: 4.9ms | ActiveRecord: 48.1ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=" for ::1 at 2019-12-04 17:45:29 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>""}
  [1m[36mProduct Load (202.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (563.53ms)
Completed 200 OK in 770ms (Views: 142.7ms | ActiveRecord: 623.9ms | Allocations: 138545)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:31 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.89ms)
Completed 200 OK in 53ms (Views: 5.3ms | ActiveRecord: 45.3ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:32 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (35.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.03ms)
Completed 200 OK in 55ms (Views: 5.0ms | ActiveRecord: 47.9ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (37.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.78ms)
Completed 200 OK in 57ms (Views: 5.6ms | ActiveRecord: 48.7ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:38 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.67ms)
Completed 200 OK in 55ms (Views: 5.4ms | ActiveRecord: 46.5ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.85ms)
Completed 200 OK in 55ms (Views: 5.6ms | ActiveRecord: 47.0ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.04ms)
Completed 200 OK in 53ms (Views: 4.6ms | ActiveRecord: 45.6ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.43ms)
Completed 200 OK in 53ms (Views: 4.9ms | ActiveRecord: 45.6ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.91ms)
Completed 200 OK in 52ms (Views: 5.1ms | ActiveRecord: 44.5ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.78ms)
Completed 200 OK in 54ms (Views: 5.2ms | ActiveRecord: 46.5ms | Allocations: 5906)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.45ms)
Completed 200 OK in 52ms (Views: 4.9ms | ActiveRecord: 44.6ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (38.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.71ms)
Completed 200 OK in 59ms (Views: 5.5ms | ActiveRecord: 50.6ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.35ms)
Completed 200 OK in 54ms (Views: 4.9ms | ActiveRecord: 46.1ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.0ms)
Completed 200 OK in 53ms (Views: 5.3ms | ActiveRecord: 45.3ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.9ms)
Completed 200 OK in 53ms (Views: 5.1ms | ActiveRecord: 45.0ms | Allocations: 5906)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.44ms)
Completed 200 OK in 55ms (Views: 5.7ms | ActiveRecord: 46.9ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.05ms)
Completed 200 OK in 53ms (Views: 4.6ms | ActiveRecord: 46.0ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.23ms)
Completed 200 OK in 54ms (Views: 4.7ms | ActiveRecord: 46.4ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.36ms)
Completed 200 OK in 52ms (Views: 4.7ms | ActiveRecord: 45.2ms | Allocations: 5905)


Started GET "/productsearch?search=vitamins&category=Cleanser" for ::1 at 2019-12-04 17:45:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser"}
  [1m[36mProduct Load (33.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.3ms)
Completed 200 OK in 53ms (Views: 4.7ms | ActiveRecord: 45.5ms | Allocations: 5905)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:46:00 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.95ms)
Completed 200 OK in 15ms (Views: 3.4ms | ActiveRecord: 2.5ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-04 17:46:03 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
  [1m[36mProduct Load (200.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (27.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (18.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (595.31ms)
Completed 200 OK in 800ms (Views: 175.5ms | ActiveRecord: 620.8ms | Allocations: 141892)


Started GET "/productsearch?search=honey&category=Cleanser+Eye" for ::1 at 2019-12-04 17:46:07 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser Eye"}
  [1m[36mProduct Load (33.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (65.36ms)
Completed 200 OK in 106ms (Views: 16.0ms | ActiveRecord: 86.4ms | Allocations: 19376)


Started GET "/productsearch?search=honey&category=Eye" for ::1 at 2019-12-04 17:46:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Eye"}
  [1m[36mProduct Load (3.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 1508)


Started GET "/productsearch?search=honey&category=Mask" for ::1 at 2019-12-04 17:46:15 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Mask"}
  [1m[36mProduct Load (26.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mask"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (136.45ms)
Completed 200 OK in 166ms (Views: 31.9ms | ActiveRecord: 131.9ms | Allocations: 35631)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:46:16 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (191.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 193ms (Views: 0.4ms | ActiveRecord: 191.1ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:46:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (197.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 200ms (Views: 0.4ms | ActiveRecord: 197.4ms | Allocations: 1283)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:46:22 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (194.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 197ms (Views: 0.4ms | ActiveRecord: 194.3ms | Allocations: 1282)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:47:08 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.6ms)
Completed 200 OK in 17ms (Views: 3.0ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:47:12 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 13ms (Views: 2.6ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:47:51 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.41ms)
Completed 200 OK in 14ms (Views: 2.8ms | ActiveRecord: 1.9ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-04 17:48:00 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
  [1m[36mProduct Load (197.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (16.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (524.24ms)
Completed 200 OK in 726ms (Views: 133.1ms | ActiveRecord: 589.8ms | Allocations: 141889)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:48:02 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (197.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 199ms (Views: 0.4ms | ActiveRecord: 197.0ms | Allocations: 1282)


Started GET "/productsearch?search=hone&category=" for ::1 at 2019-12-04 17:48:08 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hone", "category"=>""}
  [1m[36mProduct Load (196.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hone' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hone' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hone') || ' '''))) OR (similarity('hone', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (544.11ms)
Completed 200 OK in 745ms (Views: 162.3ms | ActiveRecord: 579.5ms | Allocations: 137173)


Started GET "/productsearch?search=hone&category=" for ::1 at 2019-12-04 17:48:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hone", "category"=>""}
  [1m[36mProduct Load (210.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hone' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hone' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hone') || ' '''))) OR (similarity('hone', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (503.07ms)
Completed 200 OK in 718ms (Views: 130.9ms | ActiveRecord: 583.9ms | Allocations: 137185)


Started GET "/productsearch?search=cool&category=" for ::1 at 2019-12-04 17:48:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"cool", "category"=>""}
  [1m[36mProduct Load (193.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'cool' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'cool' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('cool') || ' '''))) OR (similarity('cool', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 66]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 73]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 117]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 119]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 122]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 143]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 157]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 174]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 231]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 263]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 279]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 310]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 328]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 415]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 452]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 470]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 486]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 520]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 521]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 556]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 569]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 572]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 601]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 602]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 634]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 667]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 670]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 682]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 683]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 699]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 700]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 701]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 702]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 744]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 798]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 826]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 839]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 857]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 860]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 868]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 870]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 936]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 937]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 975]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 980]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 994]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1279.91ms)
Completed 200 OK in 1481ms (Views: 383.5ms | ActiveRecord: 1091.4ms | Allocations: 325874)


Started GET "/productsearch?search=cool&category=" for ::1 at 2019-12-04 17:48:15 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"cool", "category"=>""}
  [1m[36mProduct Load (229.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'cool' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'cool' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('cool') || ' '''))) OR (similarity('cool', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 66]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 73]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 117]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 119]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 122]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 143]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 157]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 174]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 231]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 263]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 279]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 310]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 328]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 415]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 452]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 470]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 486]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:48:16 -0800
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 520]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 521]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 556]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 569]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 572]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 601]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 602]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 634]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 667]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 670]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 682]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 683]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 699]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
  [1m[36mProduct Load (229.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 232ms (Views: 0.4ms | ActiveRecord: 229.5ms | Allocations: 52738)


[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 700]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 701]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 702]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 744]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 798]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 826]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 839]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 857]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 860]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 868]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 870]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 936]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 937]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 975]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 980]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 994]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1374.85ms)
Completed 200 OK in 1617ms (Views: 469.7ms | ActiveRecord: 1137.1ms | Allocations: 330465)


Started GET "/productsearch?search=cool&category=" for ::1 at 2019-12-04 17:48:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"cool", "category"=>""}
  [1m[36mProduct Load (188.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'cool' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'cool' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('cool') || ' '''))) OR (similarity('cool', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 66]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 73]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 117]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 119]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 122]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 143]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 157]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 174]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 231]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 263]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 279]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 310]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 328]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 415]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 452]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 470]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 486]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 520]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 521]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 556]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 569]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 572]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 601]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 602]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 634]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 667]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 670]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 682]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 683]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 699]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 700]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 701]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 702]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 744]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 798]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 826]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 839]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 857]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 860]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 868]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 870]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 936]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 937]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 975]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 980]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 994]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1235.07ms)
Completed 200 OK in 1432ms (Views: 357.6ms | ActiveRecord: 1067.4ms | Allocations: 325871)


Started GET "/productsearch?search=cool&category=" for ::1 at 2019-12-04 17:48:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"cool", "category"=>""}
  [1m[36mProduct Load (202.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'cool' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'cool' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('cool') || ' '''))) OR (similarity('cool', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 66]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 73]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 117]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 119]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 122]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 143]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 157]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 174]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 231]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 263]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 279]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 310]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 328]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 415]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 452]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 470]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 486]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 520]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 521]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 556]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 569]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 572]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 601]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 602]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 634]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 667]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 670]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 682]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 683]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 699]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 700]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 701]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 702]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 744]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 798]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 826]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 839]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 857]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 860]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 868]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 870]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 936]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 937]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 975]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 980]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 994]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1222.35ms)
Completed 200 OK in 1433ms (Views: 349.1ms | ActiveRecord: 1077.2ms | Allocations: 325875)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:48:27 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (195.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 198ms (Views: 0.4ms | ActiveRecord: 195.7ms | Allocations: 1285)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-04 17:48:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
  [1m[36mProduct Load (187.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (566.34ms)
Completed 200 OK in 758ms (Views: 168.5ms | ActiveRecord: 586.1ms | Allocations: 141895)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:48:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (194.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 197ms (Views: 0.4ms | ActiveRecord: 194.5ms | Allocations: 1282)


Started GET "/productsearch?search=cool&category=" for ::1 at 2019-12-04 17:48:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"cool", "category"=>""}
  [1m[36mProduct Load (198.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'cool' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'cool' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('cool') || ' '''))) OR (similarity('cool', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 66]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 73]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 90]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 114]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 117]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 119]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 122]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 143]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 157]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 170]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 174]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 207]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 231]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 249]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 263]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 279]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 305]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 310]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 312]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 328]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 415]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 452]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 463]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 470]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 486]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 520]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 521]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 556]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 569]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 572]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 601]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 602]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 634]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 667]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 670]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 682]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 683]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 699]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 700]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 701]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 702]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 744]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 789]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 798]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 826]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 830]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 839]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 857]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 860]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 868]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 870]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 874]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 936]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 937]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 975]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 980]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 990]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 994]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1229.57ms)
Completed 200 OK in 1439ms (Views: 411.5ms | ActiveRecord: 1018.3ms | Allocations: 325874)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:48:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (193.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 196ms (Views: 0.4ms | ActiveRecord: 193.9ms | Allocations: 1283)


Started GET "/productsearch?search=hair&category=" for ::1 at 2019-12-04 17:48:49 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hair", "category"=>""}
  [1m[36mProduct Load (188.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hair' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hair' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hair') || ' '''))) OR (similarity('hair', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 189]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 428]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 480]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 509]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 510]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 511]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 878]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 879]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 880]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 881]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1239]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1490]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1911]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1918]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1965]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (306.45ms)
Completed 200 OK in 500ms (Views: 85.7ms | ActiveRecord: 410.5ms | Allocations: 95074)


Started GET "/productsearch?search=hair&category=Eye" for ::1 at 2019-12-04 17:48:54 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hair", "category"=>"Eye"}
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hair' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hair' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hair') || ' '''))) OR (similarity('hair', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 3.8ms | Allocations: 1508)


Started GET "/productsearch?search=hair&category=Misc" for ::1 at 2019-12-04 17:49:01 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hair", "category"=>"Misc"}
  [1m[36mProduct Load (49.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hair' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hair' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hair') || ' '''))) OR (similarity('hair', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Misc"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 189]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 878]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (16.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 879]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 880]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1965]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (131.63ms)
Completed 200 OK in 185ms (Views: 37.5ms | ActiveRecord: 144.1ms | Allocations: 40215)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:49:03 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (191.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 194ms (Views: 0.4ms | ActiveRecord: 191.6ms | Allocations: 1283)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:49:07 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (192.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 194ms (Views: 0.4ms | ActiveRecord: 192.1ms | Allocations: 1285)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:49:08 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (187.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 190ms (Views: 0.5ms | ActiveRecord: 187.8ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:49:09 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (189.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 192ms (Views: 0.4ms | ActiveRecord: 189.1ms | Allocations: 1282)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:49:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (183.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 186ms (Views: 0.4ms | ActiveRecord: 183.5ms | Allocations: 1282)


Started GET "/productsearch?search=hair&category=" for ::1 at 2019-12-04 17:49:12 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hair", "category"=>""}
  [1m[36mProduct Load (183.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hair' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hair' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hair') || ' '''))) OR (similarity('hair', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 189]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 428]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 480]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 509]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 510]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 511]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 878]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 879]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 880]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 881]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1239]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1490]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1911]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1918]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1965]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (319.56ms)
Completed 200 OK in 507ms (Views: 88.6ms | ActiveRecord: 415.5ms | Allocations: 95075)


Started GET "/productsearch?search=hair&category=" for ::1 at 2019-12-04 17:49:14 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hair", "category"=>""}
  [1m[36mProduct Load (190.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hair' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hair' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hair') || ' '''))) OR (similarity('hair', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 189]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 428]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 480]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 509]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 510]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 511]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 878]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 879]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 880]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 881]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1239]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1490]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1911]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1918]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1965]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (327.57ms)
Completed 200 OK in 523ms (Views: 111.3ms | ActiveRecord: 408.1ms | Allocations: 95078)


Started GET "/productsearch?search=hair&category=" for ::1 at 2019-12-04 17:49:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hair", "category"=>""}
  [1m[36mProduct Load (193.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hair' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hair' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hair') || ' '''))) OR (similarity('hair', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 189]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 428]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 480]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 508]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 509]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 510]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 511]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 878]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 879]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 880]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 881]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1239]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1490]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1660]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1911]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1918]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1965]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (310.09ms)
Completed 200 OK in 509ms (Views: 87.7ms | ActiveRecord: 417.1ms | Allocations: 95074)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-04 17:49:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
  [1m[36mProduct Load (206.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (537.87ms)
Completed 200 OK in 748ms (Views: 137.1ms | ActiveRecord: 607.8ms | Allocations: 141892)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-04 17:49:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
  [1m[36mProduct Load (206.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (549.99ms)
Completed 200 OK in 761ms (Views: 161.9ms | ActiveRecord: 595.5ms | Allocations: 141894)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-04 17:49:26 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (203.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 206ms (Views: 0.4ms | ActiveRecord: 203.5ms | Allocations: 1282)


Started GET "/productsearch?search=&category=Cleanser" for ::1 at 2019-12-04 17:49:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Cleanser"}
  [1m[36mProduct Load (31.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 34ms (Views: 0.4ms | ActiveRecord: 31.2ms | Allocations: 1382)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-04 17:49:34 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (29.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (60.5ms)
Completed 200 OK in 93ms (Views: 17.1ms | ActiveRecord: 73.1ms | Allocations: 18761)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:50:52 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.24ms)
Completed 200 OK in 13ms (Views: 2.6ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:52:16 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.32ms)
Completed 200 OK in 14ms (Views: 2.7ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:52:19 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (7.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.84ms)
Completed 200 OK in 28ms (Views: 4.5ms | ActiveRecord: 10.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:52:26 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.7ms)
Completed 200 OK in 18ms (Views: 3.1ms | ActiveRecord: 2.7ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:52:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (190.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (530.58ms)
Completed 200 OK in 725ms (Views: 135.8ms | ActiveRecord: 586.2ms | Allocations: 141896)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:52:48 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (197.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (549.0ms)
Completed 200 OK in 751ms (Views: 164.5ms | ActiveRecord: 582.8ms | Allocations: 141896)


Started GET "/productsearch?search=" for ::1 at 2019-12-04 17:52:49 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (197.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 200ms (Views: 0.4ms | ActiveRecord: 197.8ms | Allocations: 1286)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:53:08 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 15ms (Views: 2.7ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:53:39 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.54ms)
Completed 200 OK in 13ms (Views: 2.9ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 17:53:54 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.77ms)
Completed 200 OK in 16ms (Views: 4.2ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 17:54:00 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (198.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (515.14ms)
Completed 200 OK in 717ms (Views: 131.9ms | ActiveRecord: 582.2ms | Allocations: 141893)


Started GET "/productsearch?search=" for ::1 at 2019-12-04 17:54:03 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (190.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 193ms (Views: 0.4ms | ActiveRecord: 190.7ms | Allocations: 1286)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 18:01:47 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (1.1ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.17ms)
Completed 200 OK in 36ms (Views: 9.2ms | ActiveRecord: 7.4ms | Allocations: 9200)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 18:01:56 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (230.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (682.48ms)
Completed 200 OK in 921ms (Views: 258.6ms | ActiveRecord: 656.8ms | Allocations: 138557)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-04 18:01:59 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (235.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (16.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (17.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (18.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (608.34ms)
Completed 200 OK in 850ms (Views: 154.5ms | ActiveRecord: 690.2ms | Allocations: 138550)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 18:02:51 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.44ms)
Completed 200 OK in 18ms (Views: 4.9ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 18:11:16 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (1.0ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.71ms)
Completed 200 OK in 57ms (Views: 7.7ms | ActiveRecord: 9.0ms | Allocations: 9201)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 18:11:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (220.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (609.17ms)
Completed 200 OK in 838ms (Views: 215.5ms | ActiveRecord: 616.4ms | Allocations: 141902)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 18:11:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (199.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 202ms (Views: 0.4ms | ActiveRecord: 199.2ms | Allocations: 1413)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 18:11:25 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (196.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 200ms (Views: 0.4ms | ActiveRecord: 196.9ms | Allocations: 1410)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 18:11:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (197.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (528.94ms)
Completed 200 OK in 731ms (Views: 142.2ms | ActiveRecord: 585.3ms | Allocations: 141896)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 18:11:32 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (202.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 207ms (Views: 0.9ms | ActiveRecord: 202.3ms | Allocations: 1410)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 19:00:13 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (1.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (21.27ms)
Completed 200 OK in 119ms (Views: 23.3ms | ActiveRecord: 10.0ms | Allocations: 9200)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:01:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (218.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (15.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (812.01ms)
Completed 200 OK in 1046ms (Views: 421.7ms | ActiveRecord: 612.4ms | Allocations: 141903)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:01:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (196.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (513.95ms)
Completed 200 OK in 715ms (Views: 131.7ms | ActiveRecord: 579.6ms | Allocations: 141893)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:01:48 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (196.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (524.79ms)
Completed 200 OK in 726ms (Views: 143.6ms | ActiveRecord: 579.1ms | Allocations: 141896)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:01:50 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (196.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (550.41ms)
Completed 200 OK in 751ms (Views: 167.5ms | ActiveRecord: 580.2ms | Allocations: 141896)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:01:57 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (196.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (537.25ms)
Completed 200 OK in 738ms (Views: 140.0ms | ActiveRecord: 594.6ms | Allocations: 141892)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 19:01:58 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (213.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 216ms (Views: 0.4ms | ActiveRecord: 213.2ms | Allocations: 1411)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 19:02:02 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (193.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 197ms (Views: 0.4ms | ActiveRecord: 193.9ms | Allocations: 1410)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:02:05 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (200.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (509.77ms)
Completed 200 OK in 714ms (Views: 128.1ms | ActiveRecord: 582.9ms | Allocations: 141892)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:02:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (200.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (547.7ms)
Completed 200 OK in 752ms (Views: 159.2ms | ActiveRecord: 589.9ms | Allocations: 141899)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:02:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (194.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (510.11ms)
Completed 200 OK in 710ms (Views: 130.0ms | ActiveRecord: 575.9ms | Allocations: 141893)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 19:02:15 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (198.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 201ms (Views: 0.6ms | ActiveRecord: 198.2ms | Allocations: 1410)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 19:02:16 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (194.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 200ms (Views: 0.6ms | ActiveRecord: 194.9ms | Allocations: 1410)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:02:18 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (194.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (516.3ms)
Completed 200 OK in 716ms (Views: 154.8ms | ActiveRecord: 557.2ms | Allocations: 141895)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:02:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (194.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (510.53ms)
Completed 200 OK in 711ms (Views: 131.9ms | ActiveRecord: 574.5ms | Allocations: 141893)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:02:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (192.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (529.92ms)
Completed 200 OK in 727ms (Views: 135.6ms | ActiveRecord: 587.6ms | Allocations: 141912)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 19:02:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (207.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 210ms (Views: 0.4ms | ActiveRecord: 207.9ms | Allocations: 1422)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 19:02:32 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (199.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 203ms (Views: 0.6ms | ActiveRecord: 199.8ms | Allocations: 1413)


Started GET "/productsearch?search=null" for ::1 at 2019-12-04 19:02:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (197.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 200ms (Views: 0.4ms | ActiveRecord: 197.5ms | Allocations: 1410)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 19:03:17 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.61ms)
Completed 200 OK in 15ms (Views: 3.0ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:03:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (188.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (548.75ms)
Completed 200 OK in 742ms (Views: 157.7ms | ActiveRecord: 580.4ms | Allocations: 141896)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:03:28 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (195.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (503.6ms)
Completed 200 OK in 703ms (Views: 127.7ms | ActiveRecord: 572.1ms | Allocations: 141893)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 19:04:19 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.51ms)
Completed 200 OK in 14ms (Views: 2.9ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:04:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (198.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:88:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:120:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (552.28ms)
Completed 200 OK in 755ms (Views: 165.8ms | ActiveRecord: 586.2ms | Allocations: 141899)


Started GET "/user_products/users/1" for ::1 at 2019-12-04 19:05:02 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.43ms)
Completed 200 OK in 99ms (Views: 5.0ms | ActiveRecord: 33.1ms | Allocations: 26232)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:05:04 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (215.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (18.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (635.57ms)
Completed 200 OK in 857ms (Views: 223.9ms | ActiveRecord: 629.3ms | Allocations: 147812)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-04 19:05:19 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (196.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (599.0ms)
Completed 200 OK in 801ms (Views: 218.3ms | ActiveRecord: 578.2ms | Allocations: 141912)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:00:28 -0800
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
pg (1.1.4) lib/pg.rb:56:in `initialize'
pg (1.1.4) lib/pg.rb:56:in `new'
pg (1.1.4) lib/pg.rb:56:in `connect'
activerecord (6.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:46:in `postgresql_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:889:in `new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:933:in `checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:912:in `try_to_checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:873:in `acquire_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:595:in `checkout'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:439:in `connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:238:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:206:in `connection'
activerecord (6.0.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
rack-cors (1.1.0) lib/rack/cors.rb:100:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/users/1" for ::1 at 2019-12-06 15:00:32 -0800
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
pg (1.1.4) lib/pg.rb:56:in `initialize'
pg (1.1.4) lib/pg.rb:56:in `new'
pg (1.1.4) lib/pg.rb:56:in `connect'
activerecord (6.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:46:in `postgresql_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:889:in `new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:933:in `checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:912:in `try_to_checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:873:in `acquire_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:595:in `checkout'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:439:in `connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:238:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:206:in `connection'
activerecord (6.0.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
rack-cors (1.1.0) lib/rack/cors.rb:100:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/" for ::1 at 2019-12-06 15:01:20 -0800
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
pg (1.1.4) lib/pg.rb:56:in `initialize'
pg (1.1.4) lib/pg.rb:56:in `new'
pg (1.1.4) lib/pg.rb:56:in `connect'
activerecord (6.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:46:in `postgresql_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:889:in `new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:933:in `checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:912:in `try_to_checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:873:in `acquire_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:595:in `checkout'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:439:in `connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:238:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:206:in `connection'
activerecord (6.0.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
rack-cors (1.1.0) lib/rack/cors.rb:100:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/users/1" for ::1 at 2019-12-06 15:09:37 -0800
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
pg (1.1.4) lib/pg.rb:56:in `initialize'
pg (1.1.4) lib/pg.rb:56:in `new'
pg (1.1.4) lib/pg.rb:56:in `connect'
activerecord (6.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:46:in `postgresql_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:889:in `new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:933:in `checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:912:in `try_to_checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:873:in `acquire_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:595:in `checkout'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:439:in `connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:238:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:206:in `connection'
activerecord (6.0.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
rack-cors (1.1.0) lib/rack/cors.rb:100:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/" for ::1 at 2019-12-06 15:09:42 -0800
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
pg (1.1.4) lib/pg.rb:56:in `initialize'
pg (1.1.4) lib/pg.rb:56:in `new'
pg (1.1.4) lib/pg.rb:56:in `connect'
activerecord (6.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:46:in `postgresql_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:889:in `new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:933:in `checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:912:in `try_to_checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:873:in `acquire_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:595:in `checkout'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:439:in `connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:238:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:206:in `connection'
activerecord (6.0.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
rack-cors (1.1.0) lib/rack/cors.rb:100:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/" for ::1 at 2019-12-06 15:14:54 -0800
  [1m[35m (4.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/genevieve/.rvm/gems/ruby-2.6.1/gems/railties-6.0.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/genevieve/.rvm/gems/ruby-2.6.1/gems/railties-6.0.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 8.4ms | Allocations: 316)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 0.0ms | Allocations: 1602)


Started GET "/favicon.ico" for ::1 at 2019-12-06 15:14:55 -0800
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
rack-cors (1.1.0) lib/rack/cors.rb:100:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/users" for ::1 at 2019-12-06 15:14:59 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (49.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1[0m  [["name", "Genevieve"]]
[active_model_serializers]   â†³ app/models/user.rb:9:in `user_ingredients'
[active_model_serializers]   [1m[36mUserProduct Load (7.8ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
[active_model_serializers]   â†³ app/models/user.rb:12:in `map'
[active_model_serializers]   [1m[36mProduct Load (14.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mCACHE UserProduct Load (0.0ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (47.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (9.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (9.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (10.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (9.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (15.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (300.14ms)
Completed 200 OK in 386ms (Views: 141.2ms | ActiveRecord: 238.1ms | Allocations: 78102)


Started GET "/users/1" for ::1 at 2019-12-06 15:15:27 -0800
Processing by UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1[0m  [["name", "Genevieve"]]
[active_model_serializers]   â†³ app/models/user.rb:9:in `user_ingredients'
[active_model_serializers]   [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
[active_model_serializers]   â†³ app/models/user.rb:12:in `map'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mCACHE UserProduct Load (0.0ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (182.52ms)
Completed 200 OK in 187ms (Views: 85.6ms | ActiveRecord: 99.3ms | Allocations: 40420)


Started GET "/users/1/ingredients/104" for ::1 at 2019-12-06 15:15:32 -0800
Processing by IngredientsController#ingredient_params as */*
  Parameters: {"id"=>"1", "ingredient_id"=>"104"}
  [1m[36mIngredient Load (0.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" WHERE "ingredients"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:13:in `ingredient_params'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:14:in `ingredient_params'
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/ingredients_controller.rb:16:in `ingredient_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (10.8ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 2], ["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (11.0ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 3], ["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (10.9ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 4], ["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (11.0ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 6], ["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (12.6ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 9], ["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (11.8ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 7], ["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (12.0ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 1], ["id", 104], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.58ms)
Completed 200 OK in 111ms (Views: 1.8ms | ActiveRecord: 84.3ms | Allocations: 15419)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:15:38 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.7ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.52ms)
Completed 200 OK in 16ms (Views: 2.8ms | ActiveRecord: 2.7ms | Allocations: 9100)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:15:45 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (271.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (550.3ms)
Completed 200 OK in 829ms (Views: 166.1ms | ActiveRecord: 658.8ms | Allocations: 142334)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:15:56 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (195.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (522.04ms)
Completed 200 OK in 722ms (Views: 141.0ms | ActiveRecord: 577.2ms | Allocations: 141933)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:16:03 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (207.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (548.87ms)
Completed 200 OK in 761ms (Views: 159.0ms | ActiveRecord: 598.5ms | Allocations: 141913)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:16:11 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (195.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 198ms (Views: 0.4ms | ActiveRecord: 195.7ms | Allocations: 1429)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:16:13 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (194.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 197ms (Views: 0.6ms | ActiveRecord: 194.1ms | Allocations: 1429)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:16:17 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.96ms)
Completed 200 OK in 15ms (Views: 4.5ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:16:19 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (183.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (524.96ms)
Completed 200 OK in 713ms (Views: 151.3ms | ActiveRecord: 558.0ms | Allocations: 141911)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:16:22 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.24ms)
Completed 200 OK in 14ms (Views: 2.7ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:16:28 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (196.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (504.73ms)
Completed 200 OK in 706ms (Views: 144.1ms | ActiveRecord: 558.0ms | Allocations: 141913)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:17:45 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.47ms)
Completed 200 OK in 14ms (Views: 2.8ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:17:49 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (199.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 202ms (Views: 0.4ms | ActiveRecord: 199.3ms | Allocations: 1425)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:18:18 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.03ms)
Completed 200 OK in 14ms (Views: 3.4ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:18:32 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (196.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 199ms (Views: 0.4ms | ActiveRecord: 196.1ms | Allocations: 1426)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:19:11 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.89ms)
Completed 200 OK in 14ms (Views: 3.4ms | ActiveRecord: 1.9ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:19:15 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.91ms)
Completed 200 OK in 17ms (Views: 4.3ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:19:28 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (188.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (582.18ms)
Completed 200 OK in 775ms (Views: 197.1ms | ActiveRecord: 574.6ms | Allocations: 141914)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:19:45 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.4ms)
Completed 200 OK in 19ms (Views: 5.8ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:19:47 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (46.86ms)
Completed 200 OK in 66ms (Views: 47.4ms | ActiveRecord: 3.4ms | Allocations: 9065)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:19:52 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.78ms)
Completed 200 OK in 15ms (Views: 3.2ms | ActiveRecord: 2.4ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:20:17 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.06ms)
Completed 200 OK in 15ms (Views: 3.4ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:21:44 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.93ms)
Completed 200 OK in 19ms (Views: 4.3ms | ActiveRecord: 2.5ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:22:25 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (197.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (520.89ms)
Completed 200 OK in 724ms (Views: 137.2ms | ActiveRecord: 582.5ms | Allocations: 141908)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:23:00 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.73ms)
Completed 200 OK in 14ms (Views: 3.1ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:23:44 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.35ms)
Completed 200 OK in 13ms (Views: 2.6ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:24:13 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.82ms)
Completed 200 OK in 35ms (Views: 3.3ms | ActiveRecord: 2.3ms | Allocations: 9065)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:24:15 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (187.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (515.38ms)
Completed 200 OK in 707ms (Views: 136.5ms | ActiveRecord: 566.9ms | Allocations: 141908)


Started GET "/productsearch?search=honey&category=Cleanser+Eye+Lip" for ::1 at 2019-12-06 15:24:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser Eye Lip"}
  [1m[36mProduct Load (37.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (6.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (5.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Lip Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (123.24ms)
Completed 200 OK in 178ms (Views: 31.2ms | ActiveRecord: 141.4ms | Allocations: 34236)


Started GET "/productsearch?search=honey&category=Eye+Lip" for ::1 at 2019-12-06 15:24:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Eye Lip"}
  [1m[36mProduct Load (3.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (5.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Lip Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (63.45ms)
Completed 200 OK in 76ms (Views: 13.9ms | ActiveRecord: 58.9ms | Allocations: 16360)


Started GET "/productsearch?search=honey&category=Mist" for ::1 at 2019-12-06 15:24:56 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Mist"}
  [1m[36mProduct Load (4.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (32.29ms)
Completed 200 OK in 40ms (Views: 21.8ms | ActiveRecord: 15.9ms | Allocations: 6024)


Started GET "/productsearch?search=honey&category=" for ::1 at 2019-12-06 15:25:02 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>""}
  [1m[36mProduct Load (187.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (516.56ms)
Completed 200 OK in 709ms (Views: 136.9ms | ActiveRecord: 568.3ms | Allocations: 141906)


Started GET "/productsearch?search=herb&category=" for ::1 at 2019-12-06 15:25:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herb", "category"=>""}
  [1m[36mProduct Load (185.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herb' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herb' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herb') || ' '''))) OR (similarity('herb', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 188ms (Views: 0.4ms | ActiveRecord: 185.3ms | Allocations: 1423)


Started GET "/productsearch?search=herbal&category=" for ::1 at 2019-12-06 15:25:14 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herbal", "category"=>""}
  [1m[36mProduct Load (189.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herbal' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herbal' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herbal') || ' '''))) OR (similarity('herbal', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 796]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1718]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.56ms)
Completed 200 OK in 224ms (Views: 9.6ms | ActiveRecord: 211.3ms | Allocations: 11316)


Started GET "/productsearch?search=herbale&category=" for ::1 at 2019-12-06 15:25:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herbale", "category"=>""}
  [1m[36mProduct Load (185.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herbale' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herbale' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herbale') || ' '''))) OR (similarity('herbale', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 796]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1718]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.34ms)
Completed 200 OK in 219ms (Views: 9.3ms | ActiveRecord: 206.9ms | Allocations: 11316)


Started GET "/productsearch?search=herbale&category=Moisturizer" for ::1 at 2019-12-06 15:25:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herbale", "category"=>"Moisturizer"}
  [1m[36mProduct Load (43.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herbale' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herbale' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herbale') || ' '''))) OR (similarity('herbale', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1718]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.07ms)
Completed 200 OK in 65ms (Views: 6.2ms | ActiveRecord: 56.0ms | Allocations: 7443)


Started GET "/productsearch?search=herbale&category=" for ::1 at 2019-12-06 15:25:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herbale", "category"=>""}
  [1m[36mProduct Load (196.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herbale' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herbale' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herbale') || ' '''))) OR (similarity('herbale', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 796]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1718]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (34.64ms)
Completed 200 OK in 234ms (Views: 11.1ms | ActiveRecord: 220.2ms | Allocations: 11316)


Started GET "/productsearch?search=herbale&category=" for ::1 at 2019-12-06 15:25:35 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herbale", "category"=>""}
  [1m[36mProduct Load (199.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herbale' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herbale' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herbale') || ' '''))) OR (similarity('herbale', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 796]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1718]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.07ms)
Completed 200 OK in 234ms (Views: 9.9ms | ActiveRecord: 221.5ms | Allocations: 11317)


Started GET "/productsearch?search=herbale&category=" for ::1 at 2019-12-06 15:25:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herbale", "category"=>""}
  [1m[36mProduct Load (196.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herbale' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herbale' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herbale') || ' '''))) OR (similarity('herbale', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 796]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1718]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (31.12ms)
Completed 200 OK in 244ms (Views: 10.4ms | ActiveRecord: 217.7ms | Allocations: 11319)


Started GET "/productsearch?search=herbale&category=" for ::1 at 2019-12-06 15:25:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herbale", "category"=>""}
  [1m[36mProduct Load (199.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herbale' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herbale' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herbale') || ' '''))) OR (similarity('herbale', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 796]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1718]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.99ms)
Completed 200 OK in 234ms (Views: 9.9ms | ActiveRecord: 221.4ms | Allocations: 11316)


Started GET "/productsearch?search=herbale&category=" for ::1 at 2019-12-06 15:25:49 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"herbale", "category"=>""}
  [1m[36mProduct Load (199.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'herbale' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'herbale' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('herbale') || ' '''))) OR (similarity('herbale', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 796]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1718]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (30.16ms)
Completed 200 OK in 232ms (Views: 9.2ms | ActiveRecord: 220.5ms | Allocations: 11320)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:27:10 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.48ms)
Completed 200 OK in 13ms (Views: 2.8ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/productsearch?search=vitamins" for ::1 at 2019-12-06 15:27:18 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins"}
  [1m[36mProduct Load (189.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (542.61ms)
Completed 200 OK in 736ms (Views: 133.2ms | ActiveRecord: 599.6ms | Allocations: 138565)


Started GET "/productsearch?search=vitamins&category=Cleanser+Eye" for ::1 at 2019-12-06 15:27:23 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser Eye"}
  [1m[36mProduct Load (34.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (3.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.27ms)
Completed 200 OK in 58ms (Views: 5.0ms | ActiveRecord: 49.2ms | Allocations: 6523)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:27:26 -0800
Started GET "/productsearch?search=vitamins&category=Cleanser+Eye" for ::1 at 2019-12-06 15:27:26 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>"Cleanser Eye"}
  [1m[36mProduct Load (42.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (3.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.69ms)
Completed 200 OK in 71ms (Views: 7.5ms | ActiveRecord: 59.1ms | Allocations: 6627)


  [1m[36mProduct Load (209.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 214ms (Views: 0.4ms | ActiveRecord: 209.8ms | Allocations: 10934)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:28:25 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.89ms)
Completed 200 OK in 36ms (Views: 4.3ms | ActiveRecord: 2.3ms | Allocations: 9065)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:28:32 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (186.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (518.04ms)
Completed 200 OK in 709ms (Views: 133.2ms | ActiveRecord: 572.3ms | Allocations: 141907)


Started GET "/productsearch?search=honey&category=Eye" for ::1 at 2019-12-06 15:28:34 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Eye"}
  [1m[36mProduct Load (4.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 1508)


Started GET "/productsearch?search=honey&category=Mist+Sunscreen+Toner" for ::1 at 2019-12-06 15:28:42 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Mist Sunscreen Toner"}
  [1m[36mProduct Load (5.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (21.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Sunscreen"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (15.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Toner"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (50.98ms)
Completed 200 OK in 98ms (Views: 14.7ms | ActiveRecord: 78.5ms | Allocations: 18670)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:28:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (196.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 199ms (Views: 0.4ms | ActiveRecord: 196.4ms | Allocations: 1425)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:28:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (192.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 195ms (Views: 0.4ms | ActiveRecord: 192.9ms | Allocations: 1425)


Started GET "/productsearch?search=vitamins&category=" for ::1 at 2019-12-06 15:28:59 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamins", "category"=>""}
  [1m[36mProduct Load (196.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamins' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamins' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamins') || ' '''))) OR (similarity('vitamins', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (553.5ms)
Completed 200 OK in 754ms (Views: 151.2ms | ActiveRecord: 599.5ms | Allocations: 138568)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:29:07 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (196.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 200ms (Views: 0.4ms | ActiveRecord: 196.2ms | Allocations: 1425)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:29:07 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
  [1m[36mProduct Load (191.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 194ms (Views: 0.4ms | ActiveRecord: 191.6ms | Allocations: 1425)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:29:29 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.55ms)
Completed 200 OK in 17ms (Views: 5.1ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=vitamin" for ::1 at 2019-12-06 15:29:31 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin"}
  [1m[36mProduct Load (188.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 45]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 515]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 516]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 717]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1235]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1563]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1846]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1891]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1893]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1906]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (551.49ms)
Completed 200 OK in 744ms (Views: 152.8ms | ActiveRecord: 588.2ms | Allocations: 138571)


Started GET "/productsearch?search=vitamin&category=Treatment" for ::1 at 2019-12-06 15:29:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"vitamin", "category"=>"Treatment"}
  [1m[36mProduct Load (51.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'vitamin' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'vitamin' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('vitamin') || ' '''))) OR (similarity('vitamin', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Treatment"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 46]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 53]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 91]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 246]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 247]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 264]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 302]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 713]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 714]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 730]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1110]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1175]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1200]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1250]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1252]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1253]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1564]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1802]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1819]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2006]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (335.49ms)
Completed 200 OK in 392ms (Views: 78.7ms | ActiveRecord: 309.6ms | Allocations: 80171)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:29:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
Started GET "/productsearch?search=" for ::1 at 2019-12-06 15:29:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (200.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 202ms (Views: 0.4ms | ActiveRecord: 200.0ms | Allocations: 1304)


  [1m[36mProduct Load (208.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 211ms (Views: 0.4ms | ActiveRecord: 208.2ms | Allocations: 3900)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:31:15 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.14ms)
Completed 200 OK in 15ms (Views: 3.5ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:31:25 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.29ms)
Completed 200 OK in 30ms (Views: 2.6ms | ActiveRecord: 2.2ms | Allocations: 9068)


Started GET "/productsearch?search=honeu" for ::1 at 2019-12-06 15:31:29 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honeu"}
  [1m[36mProduct Load (189.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honeu' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honeu' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honeu') || ' '''))) OR (similarity('honeu', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (499.99ms)
Completed 200 OK in 693ms (Views: 129.2ms | ActiveRecord: 561.0ms | Allocations: 137192)


Started GET "/productsearch?search=hone&category=Eye" for ::1 at 2019-12-06 15:31:33 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hone", "category"=>"Eye"}
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hone' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hone' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hone') || ' '''))) OR (similarity('hone', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Eye Care"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 3.3ms | Allocations: 1508)


Started GET "/productsearch?search=hone&category=Moisturizer" for ::1 at 2019-12-06 15:31:39 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"hone", "category"=>"Moisturizer"}
  [1m[36mProduct Load (43.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'hone' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'hone' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('hone') || ' '''))) OR (similarity('hone', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (91.56ms)
Completed 200 OK in 139ms (Views: 36.7ms | ActiveRecord: 99.4ms | Allocations: 24603)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:31:43 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
Started GET "/productsearch?search=" for ::1 at 2019-12-06 15:31:43 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (192.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 194ms (Views: 0.4ms | ActiveRecord: 192.3ms | Allocations: 1301)


  [1m[36mProduct Load (200.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 203ms (Views: 0.4ms | ActiveRecord: 200.3ms | Allocations: 3897)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:32:16 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.39ms)
Completed 200 OK in 17ms (Views: 4.0ms | ActiveRecord: 2.5ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=Moisturizer" for ::1 at 2019-12-06 15:32:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Moisturizer"}
  [1m[36mProduct Load (44.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (81.33ms)
Completed 200 OK in 129ms (Views: 21.6ms | ActiveRecord: 104.6ms | Allocations: 24597)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:32:22 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
Started GET "/productsearch?search=" for ::1 at 2019-12-06 15:32:22 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (194.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 197ms (Views: 0.4ms | ActiveRecord: 194.9ms | Allocations: 1301)


  [1m[36mProduct Load (204.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 209ms (Views: 0.4ms | ActiveRecord: 204.7ms | Allocations: 3897)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:36:10 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.48ms)
Completed 200 OK in 14ms (Views: 2.8ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:41:12 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.47ms)
Completed 200 OK in 15ms (Views: 3.9ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:42:53 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.38ms)
Completed 200 OK in 14ms (Views: 2.8ms | ActiveRecord: 1.8ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:43:10 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (194.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (535.93ms)
Completed 200 OK in 735ms (Views: 156.3ms | ActiveRecord: 574.9ms | Allocations: 141914)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:43:12 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
Started GET "/productsearch?search=" for ::1 at 2019-12-06 15:43:12 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (202.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 206ms (Views: 0.4ms | ActiveRecord: 202.8ms | Allocations: 5065)


  [1m[36mProduct Load (196.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 199ms (Views: 0.4ms | ActiveRecord: 196.9ms | Allocations: 2225)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:44:36 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (1.1ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.73ms)
Completed 200 OK in 28ms (Views: 5.5ms | ActiveRecord: 4.0ms | Allocations: 9139)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:44:44 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (192.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (597.3ms)
Completed 200 OK in 798ms (Views: 214.8ms | ActiveRecord: 577.4ms | Allocations: 141914)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:44:46 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
Started GET "/productsearch?search=" for ::1 at 2019-12-06 15:44:46 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (204.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
  [1m[36mProduct Load (200.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.05ms)
Completed 200 OK in 209ms (Views: 1.5ms | ActiveRecord: 204.5ms | Allocations: 3653)


Completed 200 OK in 205ms (Views: 0.6ms | ActiveRecord: 200.8ms | Allocations: 1986)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:44:51 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.9ms)
Completed 200 OK in 16ms (Views: 4.3ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 15:44:58 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (210.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (559.62ms)
Completed 200 OK in 774ms (Views: 167.7ms | ActiveRecord: 603.0ms | Allocations: 141914)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:45:01 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
Started GET "/productsearch?search=" for ::1 at 2019-12-06 15:45:01 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (191.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 194ms (Views: 0.4ms | ActiveRecord: 191.5ms | Allocations: 1301)


  [1m[36mProduct Load (203.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 206ms (Views: 0.4ms | ActiveRecord: 203.0ms | Allocations: 3883)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 15:45:12 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.08ms)
Completed 200 OK in 18ms (Views: 4.6ms | ActiveRecord: 2.5ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-06 15:45:20 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (35.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (65.8ms)
Completed 200 OK in 105ms (Views: 17.2ms | ActiveRecord: 84.6ms | Allocations: 18761)


Started GET "/productsearch?search=honey&category=Cleanser+Moisturizer" for ::1 at 2019-12-06 15:45:25 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser Moisturizer"}
  [1m[36mProduct Load (35.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
  [1m[36mProduct Load (40.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Moisturizer"]]
  â†³ app/controllers/products_controller.rb:79:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (141.56ms)
Completed 200 OK in 223ms (Views: 40.4ms | ActiveRecord: 178.3ms | Allocations: 42464)


Started GET "/productsearch?search=null" for ::1 at 2019-12-06 15:45:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"null"}
Started GET "/productsearch?search=" for ::1 at 2019-12-06 15:45:41 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (190.6ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 193ms (Views: 0.4ms | ActiveRecord: 190.6ms | Allocations: 1301)


  [1m[36mProduct Load (202.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'null' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'null' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('null') || ' '''))) OR (similarity('null', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 205ms (Views: 0.5ms | ActiveRecord: 202.1ms | Allocations: 3900)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:14:22 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.27ms)
Completed 200 OK in 13ms (Views: 2.6ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:14:43 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.37ms)
Completed 200 OK in 13ms (Views: 2.7ms | ActiveRecord: 2.1ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:16:25 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.49ms)
Completed 200 OK in 16ms (Views: 2.9ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:16:29 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.52ms)
Completed 200 OK in 15ms (Views: 2.9ms | ActiveRecord: 1.9ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-06 16:16:36 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (35.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (65.66ms)
Completed 200 OK in 104ms (Views: 16.9ms | ActiveRecord: 84.4ms | Allocations: 18761)


Started GET "/productsearch?search=" for ::1 at 2019-12-06 16:16:37 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (192.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 194ms (Views: 0.4ms | ActiveRecord: 192.0ms | Allocations: 1301)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-06 16:19:59 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (79.8ms)
Completed 200 OK in 118ms (Views: 33.0ms | ActiveRecord: 81.8ms | Allocations: 18764)


Started GET "/productsearch?search=" for ::1 at 2019-12-06 16:20:01 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>""}
  [1m[36mProduct Load (201.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 204ms (Views: 0.4ms | ActiveRecord: 201.8ms | Allocations: 1301)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:21:34 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.42ms)
Completed 200 OK in 13ms (Views: 2.8ms | ActiveRecord: 1.8ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-06 16:21:40 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (61.65ms)
Completed 200 OK in 97ms (Views: 16.7ms | ActiveRecord: 77.6ms | Allocations: 18761)


Started GET "/productsearch?search=&category=" for ::1 at 2019-12-06 16:21:46 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>""}
  [1m[36mProduct Load (192.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:92:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 195ms (Views: 0.4ms | ActiveRecord: 192.5ms | Allocations: 1299)


Started GET "/productsearch?search=&category=Mist" for ::1 at 2019-12-06 16:21:52 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Mist"}
  [1m[36mProduct Load (4.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 4.8ms | Allocations: 1382)


Started GET "/productsearch?search=&category=Mist" for ::1 at 2019-12-06 16:21:54 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Mist"}
  [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 3.5ms | Allocations: 1382)


Started GET "/productsearch?search=&category=Mist" for ::1 at 2019-12-06 16:22:03 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Mist"}
  [1m[36mProduct Load (3.8ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Mist"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.06ms)
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 3.8ms | Allocations: 1382)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:22:15 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.15ms)
Completed 200 OK in 14ms (Views: 3.6ms | ActiveRecord: 2.0ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-06 16:22:21 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (35.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (64.74ms)
Completed 200 OK in 105ms (Views: 17.2ms | ActiveRecord: 83.9ms | Allocations: 18761)


Started GET "/productsearch?search=&category=Cleanser" for ::1 at 2019-12-06 16:22:27 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Cleanser"}
  [1m[36mProduct Load (32.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 35ms (Views: 0.4ms | ActiveRecord: 32.1ms | Allocations: 1382)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:22:41 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.64ms)
Completed 200 OK in 15ms (Views: 3.1ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:23:00 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.2ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.82ms)
Completed 200 OK in 15ms (Views: 3.2ms | ActiveRecord: 2.2ms | Allocations: 9062)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-06 16:23:04 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (36.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:124:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (64.03ms)
Completed 200 OK in 104ms (Views: 16.4ms | ActiveRecord: 84.7ms | Allocations: 18761)


Started GET "/productsearch?search=&category=Cleanser" for ::1 at 2019-12-06 16:23:08 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Cleanser"}
  [1m[36mProduct Load (34.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (''), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ ('')) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ ('')) OR (similarity('', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:84:in `sort_by'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 37ms (Views: 0.4ms | ActiveRecord: 34.1ms | Allocations: 1382)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:27:45 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.24ms)
Completed 200 OK in 91ms (Views: 2.8ms | ActiveRecord: 23.7ms | Allocations: 26179)


Started GET "/productsearch?search=honey" for ::1 at 2019-12-06 16:27:47 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey"}
  [1m[36mProduct Load (193.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:80:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 397]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 437]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 513]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 537]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 690]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 828]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1020]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1021]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1022]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1023]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1025]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1027]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1029]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1030]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1031]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1032]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1033]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1034]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1042]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1059]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1060]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1505]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1558]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1597]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1669]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1825]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (554.88ms)
Completed 200 OK in 755ms (Views: 152.9ms | ActiveRecord: 598.9ms | Allocations: 147816)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-06 16:27:51 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (35.7ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:72:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (15.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (91.86ms)
Completed 200 OK in 131ms (Views: 39.5ms | ActiveRecord: 88.6ms | Allocations: 18767)


Started GET "/productsearch?search=honey&category=Cleanser" for ::1 at 2019-12-06 16:27:56 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"honey", "category"=>"Cleanser"}
  [1m[36mProduct Load (36.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'honey' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'honey' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('honey') || ' '''))) OR (similarity('honey', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id WHERE "products"."category" = $1 ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:72:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1024]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1026]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1028]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1380]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (65.88ms)
Completed 200 OK in 107ms (Views: 17.0ms | ActiveRecord: 85.5ms | Allocations: 18763)


Started GET "/productsearch?search=&category=Cleanser" for ::1 at 2019-12-06 16:27:58 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"", "category"=>"Cleanser"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:103:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1267.03ms)
Completed 200 OK in 1281ms (Views: 394.9ms | ActiveRecord: 875.1ms | Allocations: 308223)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:36:16 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.6ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.71ms)
Completed 200 OK in 53ms (Views: 3.3ms | ActiveRecord: 5.0ms | Allocations: 25593)


Started GET "/productsearch?search=ap" for ::1 at 2019-12-06 16:36:30 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"ap"}
  [1m[36mProduct Load (224.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'ap' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'ap' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('ap') || ' '''))) OR (similarity('ap', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:78:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 12]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 265]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 266]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 267]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 268]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 269]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 270]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 271]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 272]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 313]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 315]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 316]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 317]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 319]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 320]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 321]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 322]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 323]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 324]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 325]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 326]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 327]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 328]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 329]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 330]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 331]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 332]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 333]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 334]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 336]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 337]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 338]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 339]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 340]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 341]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 344]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 345]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 346]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 347]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 348]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 349]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 350]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 351]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 353]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 354]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 355]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 356]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 357]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 358]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 359]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 360]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 361]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 368]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 369]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 371]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 372]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 373]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1307.97ms)
Completed 200 OK in 1544ms (Views: 430.0ms | ActiveRecord: 1104.7ms | Allocations: 373826)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:38:20 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.91ms)
Completed 200 OK in 20ms (Views: 8.0ms | ActiveRecord: 1.9ms | Allocations: 9062)


Started GET "/productsearch?search=ap" for ::1 at 2019-12-06 16:38:31 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"ap"}
  [1m[36mProduct Load (182.9ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'ap' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'ap' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('ap') || ' '''))) OR (similarity('ap', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:78:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 12]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 265]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 266]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 267]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 268]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 269]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 270]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 271]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 272]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 313]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 315]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 316]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 317]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 319]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 320]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 321]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 322]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 323]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 324]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 325]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 326]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 327]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 328]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 329]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 330]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 331]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 332]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 333]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 334]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 336]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 337]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 338]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 339]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 340]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 341]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 344]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 345]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 346]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 347]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 348]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 349]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 350]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 351]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 353]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 354]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 355]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 356]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 357]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 358]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 359]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 360]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 361]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 368]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 369]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 371]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 372]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 373]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1281.78ms)
Completed 200 OK in 1490ms (Views: 430.3ms | ActiveRecord: 1039.4ms | Allocations: 368277)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:42:24 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.88ms)
Completed 200 OK in 17ms (Views: 4.5ms | ActiveRecord: 2.3ms | Allocations: 9062)


Started GET "/productsearch?search=ap" for ::1 at 2019-12-06 16:42:27 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"ap"}
  [1m[36mProduct Load (183.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN (SELECT "products"."id" AS pg_search_id, (ts_rank((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))), (to_tsquery('english', ''' ' || 'ap' || ' ''')), 0)) AS rank FROM "products" WHERE ((to_tsvector('english', coalesce("products"."brand"::text, '')) || to_tsvector('english', coalesce("products"."name"::text, ''))) @@ (to_tsquery('english', ''' ' || 'ap' || ' '''))) OR ((to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."brand"::text, ''))) || to_tsvector('simple', pg_search_dmetaphone(coalesce("products"."name"::text, '')))) @@ (to_tsquery('simple', ''' ' || pg_search_dmetaphone('ap') || ' '''))) OR (similarity('ap', (coalesce("products"."brand"::text, '') || ' ' || coalesce("products"."name"::text, ''))) >= 0.3)) AS pg_search_0a3e27b8ca818264d75c8d ON "products"."id" = pg_search_0a3e27b8ca818264d75c8d.pg_search_id ORDER BY pg_search_0a3e27b8ca818264d75c8d.rank DESC, "products"."id" ASC[0m
  â†³ app/controllers/products_controller.rb:78:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 12]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 265]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 266]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 267]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 268]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 269]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 270]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 271]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 272]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 313]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 315]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 316]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 317]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 318]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 319]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 320]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 321]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 322]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 323]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 324]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 325]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 326]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 327]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 328]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 329]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 330]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (19.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 331]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (18.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 332]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 333]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 334]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 335]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 336]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 337]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 338]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 339]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 340]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 341]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 342]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 343]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 344]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 345]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 346]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 347]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 348]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 349]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 350]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 351]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 352]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 353]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 354]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 355]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 356]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 357]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 358]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 359]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 360]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 361]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 368]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 369]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 371]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 372]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 373]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 376]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1332.64ms)
Completed 200 OK in 1526ms (Views: 448.8ms | ActiveRecord: 1068.6ms | Allocations: 368276)


Started GET "/products/375" for ::1 at 2019-12-06 16:42:38 -0800
Processing by ProductsController#show as */*
  Parameters: {"id"=>"375"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mIngredient Load (14.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (20.62ms)
Completed 200 OK in 23ms (Views: 6.7ms | ActiveRecord: 14.6ms | Allocations: 6213)


Started GET "/products/375" for ::1 at 2019-12-06 16:43:01 -0800
Processing by ProductsController#show as */*
  Parameters: {"id"=>"375"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mIngredient Load (13.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (18.52ms)
Completed 200 OK in 20ms (Views: 5.7ms | ActiveRecord: 13.4ms | Allocations: 6110)


Started GET "/products/375" for ::1 at 2019-12-06 16:45:11 -0800
Processing by ProductsController#show as */*
  Parameters: {"id"=>"375"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mIngredient Load (17.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (27.14ms)
Completed 200 OK in 30ms (Views: 9.7ms | ActiveRecord: 18.9ms | Allocations: 6110)


Started GET "/products/375" for ::1 at 2019-12-06 16:45:17 -0800
Processing by ProductsController#show as */*
  Parameters: {"id"=>"375"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mIngredient Load (38.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (47.39ms)
Completed 200 OK in 49ms (Views: 9.3ms | ActiveRecord: 38.8ms | Allocations: 6110)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:45:24 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Started POST "/user_products" for ::1 at 2019-12-06 16:45:24 -0800
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.21ms)
Completed 200 OK in 20ms (Views: 3.8ms | ActiveRecord: 3.1ms | Allocations: 9656)


Processing by UserProductsController#create as JSON
  Parameters: {"current"=>nil, "rating"=>nil, "wishlist"=>nil, "opened"=>nil, "expires"=>nil, "caused_acne"=>nil, "notes"=>nil, "user_id"=>1, "product_id"=>"375", "user_product"=>{"user_id"=>1, "product_id"=>"375", "current"=>nil, "rating"=>nil, "wishlist"=>nil, "opened"=>nil, "expires"=>nil, "caused_acne"=>nil, "notes"=>nil}}
[31mUnpermitted parameter: :user_product[0m
  [1m[35m (6.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mUserProduct Create (9.2ms)[0m  [1m[32mINSERT INTO "user_products" ("user_id", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 1], ["product_id", 375], ["created_at", "2019-12-07 00:45:24.730953"], ["updated_at", "2019-12-07 00:45:24.730953"]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/user_products_controller.rb:12:in `create'
[active_model_serializers] Rendered UserProductSerializer with ActiveModelSerializers::Adapter::Attributes (0.79ms)
Completed 200 OK in 60ms (Views: 2.3ms | ActiveRecord: 30.6ms | Allocations: 16075)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:45:31 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.6ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.47ms)
Completed 200 OK in 19ms (Views: 5.0ms | ActiveRecord: 3.3ms | Allocations: 10132)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:46:10 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.04ms)
Completed 200 OK in 17ms (Views: 4.6ms | ActiveRecord: 2.5ms | Allocations: 10080)


Started GET "/productsearch?search=undefined&category=Cleanser" for ::1 at 2019-12-06 16:46:24 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Cleanser"}
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:103:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (9.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1128.57ms)
Completed 200 OK in 1143ms (Views: 324.1ms | ActiveRecord: 808.6ms | Allocations: 308219)


Started GET "/products/646" for ::1 at 2019-12-06 16:46:30 -0800
Processing by ProductsController#show as */*
  Parameters: {"id"=>"646"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 646], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (20.39ms)
Completed 200 OK in 22ms (Views: 5.8ms | ActiveRecord: 15.3ms | Allocations: 5906)


Started GET "/productsearch?search=undefined&category=Cleanser" for ::1 at 2019-12-06 16:46:35 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Cleanser"}
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:103:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1241.58ms)
Completed 200 OK in 1254ms (Views: 409.6ms | ActiveRecord: 835.6ms | Allocations: 308215)


Started GET "/products/646/" for ::1 at 2019-12-06 16:46:39 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:46:39 -0800
Processing by ProductsController#show as */*
Processing by UserProductsController#index as */*
  Parameters: {"id"=>"646"}
  Parameters: {"user_id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 646], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
  [1m[36mUserProduct Load (1.8ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (21.55ms)
Completed 200 OK in 25ms (Views: 8.0ms | ActiveRecord: 15.6ms | Allocations: 16445)


[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.12ms)
Completed 200 OK in 40ms (Views: 34.8ms | ActiveRecord: 4.8ms | Allocations: 31037)


Started GET "/productsearch?search=undefined&category=Cleanser" for ::1 at 2019-12-06 16:46:47 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Cleanser"}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Cleanser"]]
  â†³ app/controllers/products_controller.rb:103:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 16]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 17]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 52]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 77]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 81]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 82]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 99]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 113]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 126]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 128]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 134]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 136]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 137]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 154]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 213]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 214]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 215]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 216]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 241]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 244]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 248]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 251]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 259]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 260]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 261]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 273]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 275]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 276]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 283]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 291]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 293]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 303]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 308]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 314]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 362]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 363]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 364]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 365]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 366]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 367]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 370]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 381]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 416]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 432]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 442]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 448]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 451]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 479]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 538]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 541]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 544]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 547]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 548]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 549]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 550]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 574]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 576]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 577]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 579]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 586]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 591]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 593]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 594]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 595]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 599]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 607]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (13.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 609]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 611]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 628]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 630]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 631]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 639]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 643]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 646]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1186.69ms)
Completed 200 OK in 1201ms (Views: 344.2ms | ActiveRecord: 845.9ms | Allocations: 308219)


Started GET "/products/636/" for ::1 at 2019-12-06 16:46:50 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:46:50 -0800
Processing by ProductsController#show as */*
Processing by UserProductsController#index as */*
  Parameters: {"id"=>"636"}
  Parameters: {"user_id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
  [1m[36mUserProduct Load (1.8ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (21.26ms)
Completed 200 OK in 24ms (Views: 7.2ms | ActiveRecord: 15.6ms | Allocations: 16807)


[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (34.29ms)
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 4.6ms | Allocations: 30386)


Started GET "/products/636/" for ::1 at 2019-12-06 16:48:54 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:48:54 -0800
Processing by ProductsController#show as */*
Processing by UserProductsController#index as */*
  Parameters: {"id"=>"636"}
  Parameters: {"user_id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
  [1m[36mUserProduct Load (0.7ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mIngredient Load (16.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (25.3ms)
[active_model_serializers]   [1m[36mProduct Load (5.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Completed 200 OK in 28ms (Views: 9.9ms | ActiveRecord: 16.9ms | Allocations: 16838)


[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (4.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (50.31ms)
Completed 200 OK in 54ms (Views: 40.7ms | ActiveRecord: 13.5ms | Allocations: 30388)


Started GET "/products/636/" for ::1 at 2019-12-06 16:49:01 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:49:01 -0800
Processing by ProductsController#show as */*
Processing by UserProductsController#index as */*
  Parameters: {"user_id"=>"1"}
  Parameters: {"id"=>"636"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (27.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (35.46ms)
Completed 200 OK in 40ms (Views: 9.7ms | ActiveRecord: 27.3ms | Allocations: 20977)


[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (3.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (74.39ms)
Completed 200 OK in 78ms (Views: 70.1ms | ActiveRecord: 7.3ms | Allocations: 30460)


Started GET "/products/636" for ::1 at 2019-12-06 16:49:03 -0800
Processing by ProductsController#show as */*
  Parameters: {"id"=>"636"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mIngredient Load (18.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (23.98ms)
Completed 200 OK in 26ms (Views: 6.1ms | ActiveRecord: 18.7ms | Allocations: 5258)


Started POST "/user_products" for ::1 at 2019-12-06 16:49:11 -0800
Processing by UserProductsController#create as JSON
  Parameters: {"current"=>false, "rating"=>nil, "wishlist"=>nil, "opened"=>nil, "expires"=>nil, "caused_acne"=>nil, "notes"=>nil, "user_id"=>1, "product_id"=>"636", "user_product"=>{"user_id"=>1, "product_id"=>"636", "current"=>false, "rating"=>nil, "wishlist"=>nil, "opened"=>nil, "expires"=>nil, "caused_acne"=>nil, "notes"=>nil}}
[31mUnpermitted parameter: :user_product[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mUserProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "user_products" ("user_id", "product_id", "current", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["product_id", 636], ["current", false], ["created_at", "2019-12-07 00:49:11.278252"], ["updated_at", "2019-12-07 00:49:11.278252"]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/user_products_controller.rb:12:in `create'
[active_model_serializers] Rendered UserProductSerializer with ActiveModelSerializers::Adapter::Attributes (1.0ms)
Completed 200 OK in 10ms (Views: 1.6ms | ActiveRecord: 1.7ms | Allocations: 5008)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:49:11 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.46ms)
Completed 200 OK in 20ms (Views: 3.9ms | ActiveRecord: 3.4ms | Allocations: 11096)


Started GET "/products/636/" for ::1 at 2019-12-06 16:49:20 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:49:20 -0800
Processing by UserProductsController#index as */*
Processing by ProductsController#show as */*
  Parameters: {"user_id"=>"1"}
  Parameters: {"id"=>"636"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (15.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 636]]
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (25.34ms)
Completed 200 OK in 30ms (Views: 11.9ms | ActiveRecord: 15.8ms | Allocations: 18950)


[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (71.92ms)
Completed 200 OK in 74ms (Views: 70.2ms | ActiveRecord: 4.0ms | Allocations: 33105)


Started DELETE "/user_products/19" for ::1 at 2019-12-06 16:49:25 -0800
Processing by UserProductsController#destroy as JSON
  Parameters: {"id"=>"19", "user_product"=>{}}
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:27:in `destroy'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/user_products_controller.rb:28:in `destroy'
  [1m[36mUserProduct Destroy (12.8ms)[0m  [1m[31mDELETE FROM "user_products" WHERE "user_products"."id" = $1[0m  [["id", 19]]
  â†³ app/controllers/user_products_controller.rb:28:in `destroy'
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/user_products_controller.rb:28:in `destroy'
Completed 204 No Content in 25ms (ActiveRecord: 18.2ms | Allocations: 2323)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:49:27 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.72ms)
Completed 200 OK in 33ms (Views: 8.1ms | ActiveRecord: 2.6ms | Allocations: 10080)


Started GET "/products/375/" for ::1 at 2019-12-06 16:49:40 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:49:40 -0800
Processing by ProductsController#show as */*
Processing by UserProductsController#index as */*
  Parameters: {"id"=>"375"}
  Parameters: {"user_id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
  [1m[36mUserProduct Load (2.8ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (15.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (54.07ms)
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
Completed 200 OK in 58ms (Views: 39.9ms | ActiveRecord: 16.1ms | Allocations: 16377)


[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (68.7ms)
Completed 200 OK in 74ms (Views: 68.1ms | ActiveRecord: 6.0ms | Allocations: 31241)


Started GET "/products/375" for ::1 at 2019-12-06 16:49:43 -0800
Processing by ProductsController#show as */*
  Parameters: {"id"=>"375"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mIngredient Load (15.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (20.7ms)
Completed 200 OK in 22ms (Views: 5.9ms | ActiveRecord: 15.4ms | Allocations: 6110)


Started POST "/user_products" for ::1 at 2019-12-06 16:49:48 -0800
Processing by UserProductsController#create as JSON
  Parameters: {"current"=>true, "rating"=>2, "wishlist"=>true, "opened"=>nil, "expires"=>nil, "caused_acne"=>true, "notes"=>nil, "user_id"=>1, "product_id"=>"375", "user_product"=>{"user_id"=>1, "product_id"=>"375", "current"=>true, "rating"=>2, "wishlist"=>true, "opened"=>nil, "expires"=>nil, "caused_acne"=>true, "notes"=>nil}}
[31mUnpermitted parameter: :user_product[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[36mUserProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "user_products" ("user_id", "product_id", "current", "rating", "wishlist", "caused_acne", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["product_id", 375], ["current", true], ["rating", 2], ["wishlist", true], ["caused_acne", true], ["created_at", "2019-12-07 00:49:48.630730"], ["updated_at", "2019-12-07 00:49:48.630730"]]
  â†³ app/controllers/user_products_controller.rb:12:in `create'
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/user_products_controller.rb:12:in `create'
[active_model_serializers] Rendered UserProductSerializer with ActiveModelSerializers::Adapter::Attributes (0.81ms)
Completed 200 OK in 11ms (Views: 1.4ms | ActiveRecord: 2.9ms | Allocations: 5042)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:49:51 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.25ms)
Completed 200 OK in 16ms (Views: 3.8ms | ActiveRecord: 2.3ms | Allocations: 10999)


Started GET "/products/375/" for ::1 at 2019-12-06 16:53:43 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:53:43 -0800
Processing by ProductsController#show as */*
Processing by UserProductsController#index as */*
  Parameters: {"id"=>"375"}
  Parameters: {"user_id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
  [1m[36mUserProduct Load (0.7ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mIngredient Load (13.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (22.49ms)
Completed 200 OK in 25ms (Views: 9.6ms | ActiveRecord: 14.2ms | Allocations: 17706)


[active_model_serializers]   [1m[36mProduct Load (5.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (38.81ms)
Completed 200 OK in 43ms (Views: 33.8ms | ActiveRecord: 8.6ms | Allocations: 33791)


Started DELETE "/user_products/20" for ::1 at 2019-12-06 16:53:46 -0800
Processing by UserProductsController#destroy as JSON
  Parameters: {"id"=>"20", "user_product"=>{}}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:27:in `destroy'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/user_products_controller.rb:28:in `destroy'
  [1m[36mUserProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM "user_products" WHERE "user_products"."id" = $1[0m  [["id", 20]]
  â†³ app/controllers/user_products_controller.rb:28:in `destroy'
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/user_products_controller.rb:28:in `destroy'
Completed 204 No Content in 11ms (ActiveRecord: 5.9ms | Allocations: 2197)


Started GET "/user_products/users/1" for ::1 at 2019-12-06 16:55:19 -0800
Processing by UserProductsController#user_reviews as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUserProduct Load (0.4ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/user_products_controller.rb:39:in `map'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/user_products_controller.rb:40:in `block in user_reviews'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.86ms)
Completed 200 OK in 15ms (Views: 4.3ms | ActiveRecord: 2.0ms | Allocations: 10080)


Started GET "/products/7/" for ::1 at 2019-12-06 16:56:30 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:56:30 -0800
Processing by UserProductsController#index as */*
Processing by ProductsController#show as */*
  Parameters: {"user_id"=>"1"}
  Parameters: {"id"=>"7"}
  [1m[36mUserProduct Load (0.5ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (13.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (17.87ms)
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
Completed 200 OK in 22ms (Views: 5.9ms | ActiveRecord: 14.0ms | Allocations: 16624)


[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (35.65ms)
Completed 200 OK in 38ms (Views: 33.9ms | ActiveRecord: 4.2ms | Allocations: 29463)


Started GET "/products/2/" for ::1 at 2019-12-06 16:57:38 -0800
Started GET "/users/1/user_products" for ::1 at 2019-12-06 16:57:38 -0800
Processing by UserProductsController#index as */*
Processing by ProductsController#show as */*
  Parameters: {"id"=>"2"}
  Parameters: {"user_id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:19:in `show'
  [1m[36mUserProduct Load (1.7ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products"[0m
  â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mIngredient Load (15.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:19:in `show'
[active_model_serializers]   [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (22.07ms)
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
Completed 200 OK in 25ms (Views: 7.8ms | ActiveRecord: 16.0ms | Allocations: 18933)


[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/user_products_controller.rb:3:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (34.59ms)
Completed 200 OK in 38ms (Views: 33.2ms | ActiveRecord: 4.7ms | Allocations: 31567)


Started GET "/users/1" for ::1 at 2019-12-06 16:58:10 -0800
Processing by UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1[0m  [["name", "Genevieve"]]
[active_model_serializers]   â†³ app/models/user.rb:9:in `user_ingredients'
[active_model_serializers]   [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
[active_model_serializers]   â†³ app/models/user.rb:12:in `map'
[active_model_serializers]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/models/user.rb:17:in `block in user_ingredients'
[active_model_serializers]   [1m[36mCACHE UserProduct Load (0.0ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 2]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 3]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (12.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 4]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 5]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 6]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 9]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 7]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/users_controller.rb:7:in `show'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (152.02ms)
Completed 200 OK in 155ms (Views: 49.2ms | ActiveRecord: 104.2ms | Allocations: 47094)


Started GET "/users/1/ingredients/63" for ::1 at 2019-12-06 16:58:30 -0800
Processing by IngredientsController#ingredient_params as */*
  Parameters: {"id"=>"1", "ingredient_id"=>"63"}
  [1m[36mIngredient Load (0.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" WHERE "ingredients"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:13:in `ingredient_params'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:14:in `ingredient_params'
  [1m[36mUserProduct Load (0.3ms)[0m  [1m[34mSELECT "user_products".* FROM "user_products" WHERE "user_products"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/ingredients_controller.rb:16:in `ingredient_params'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (10.0ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 2], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 3], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (10.1ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 4], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (11.4ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (13.0ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 6], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (10.4ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 9], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (10.0ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 7], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (10.5ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 1], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:17:in `block in ingredient_params'
  [1m[36mIngredient Exists? (9.6ms)[0m  [1m[34mSELECT 1 AS one FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1 AND "ingredients"."id" = $2 LIMIT $3[0m  [["product_id", 375], ["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/ingredients_controller.rb:18:in `block in ingredient_params'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.49ms)
Completed 200 OK in 139ms (Views: 0.9ms | ActiveRecord: 88.9ms | Allocations: 16582)


Started GET "/productsearch?search=undefined&category=Sunscreen" for ::1 at 2019-12-06 16:59:59 -0800
Processing by ProductsController#search_brand_or_name as */*
  Parameters: {"search"=>"undefined", "category"=>"Sunscreen"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."category" = $1[0m  [["category", "Sunscreen"]]
  â†³ app/controllers/products_controller.rb:103:in `sort_by'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 8]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 12]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 21]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 22]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 97]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 106]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 132]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 150]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 151]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 161]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 230]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 236]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 237]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 238]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 239]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.0ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 240]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 243]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 284]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 285]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 286]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 287]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 288]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 360]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 374]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 375]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 425]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 461]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 462]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 464]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 465]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 466]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 468]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 470]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 471]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 473]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 474]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 475]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 476]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 491]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 497]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (12.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 559]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 565]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 616]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 617]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 618]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 619]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 675]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 679]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 683]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 697]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 707]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 781]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 871]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 872]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 884]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.8ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 961]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.3ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 964]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1035]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1036]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.2ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1037]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1040]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (11.1ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1043]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1048]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1050]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.7ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1051]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1052]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1053]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1054]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.6ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1055]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (14.9ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1056]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1057]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1058]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1087]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.4ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1138]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers]   [1m[36mIngredient Load (10.5ms)[0m  [1m[34mSELECT "ingredients".* FROM "ingredients" INNER JOIN "product_ingredients" ON "ingredients"."id" = "product_ingredients"."ingredient_id" WHERE "product_ingredients"."product_id" = $1[0m  [["product_id", 1186]]
[active_model_serializers]   â†³ app/controllers/products_controller.rb:112:in `search_brand_or_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1226.49ms)
Completed 200 OK in 1235ms (Views: 385.6ms | ActiveRecord: 843.9ms | Allocations: 350596)


